\chapter{Voronoi Node}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node}\index{Voronoi Node@{Voronoi Node}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node_autotoc_md4134}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node_autotoc_md4134}%
 \hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node_autotoc_md4135}{}\doxysection{\texorpdfstring{Description}{Description}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node_autotoc_md4135}
Generates a Voronoi, or \href{https://en.wikipedia.org/wiki/Worley_noise}{\texttt{ Worley}}, noise based on input {\bfseries{UV}}. Voronoi noise is generated by calculating distances between a pixel and a lattice of points. By offsetting these points by a pseudo-\/random number, controlled by input {\bfseries{Angle Offset}}, a cluster of cells can be generated. The scale of these cells, and the resulting noise, is controlled by input {\bfseries{Cell Density}}. The output {\bfseries{Cells}} contains the raw cell data.

You can also choose to use two different hashing methods for calculating the noise. As of \doxylink{namespace_unity}{Unity} version 2021.\+2, the Voronoi node defaults to the {\bfseries{Deterministic}} hash, to ensure consistent results for noise generation across platforms.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node_autotoc_md4136}{}\doxysection{\texorpdfstring{Ports}{Ports}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node_autotoc_md4136}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{5}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Name   }&\cellcolor{\tableheadbgcolor}\textbf{ Direction   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Binding   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Name   }&\cellcolor{\tableheadbgcolor}\textbf{ Direction   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Binding   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-5}
\endhead
UV   &Input   &Vector 2   &UV   &Input UV value    \\\cline{1-5}
Angle Offset   &Input   &Float   &None   &Offset value for points    \\\cline{1-5}
Cell Density   &Input   &Float   &None   &Density of cells generated    \\\cline{1-5}
Out   &Output   &Float   &None   &Output noise value    \\\cline{1-5}
Cells   &Output   &Float   &None   &Raw cell data   \\\cline{1-5}
\end{longtabu}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node_autotoc_md4137}{}\doxysection{\texorpdfstring{Controls}{Controls}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node_autotoc_md4137}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Name   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Options   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Name   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Options   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-4}
\endhead
Hash Type   &Dropdown   &Deterministic, Legacy\+Sine   &Selects the hash function used to generate random numbers for noise generation.   \\\cline{1-4}
\end{longtabu}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node_autotoc_md4138}{}\doxysection{\texorpdfstring{Generated Code Example}{Generated Code Example}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8shadergraph_0d14_80_88_2_documentation_0i_2_voronoi-_node_autotoc_md4138}
The following example code represents one possible outcome of this node.


\begin{DoxyCode}{0}
\DoxyCodeLine{inline\ float2\ unity\_voronoi\_noise\_randomVector\ (float2\ UV,\ float\ offset)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ float2x2\ m\ =\ float2x2(15.27,\ 47.63,\ 99.41,\ 89.98);}
\DoxyCodeLine{\ \ \ \ UV\ =\ frac(sin(mul(UV,\ m))\ *\ 46839.32);}
\DoxyCodeLine{\ \ \ \ return\ float2(sin(UV.y*+offset)*0.5+0.5,\ cos(UV.x*offset)*0.5+0.5);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{void\ Unity\_Voronoi\_float(float2\ UV,\ float\ AngleOffset,\ float\ CellDensity,\ out\ float\ Out,\ out\ float\ Cells)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ float2\ g\ =\ floor(UV\ *\ CellDensity);}
\DoxyCodeLine{\ \ \ \ float2\ f\ =\ frac(UV\ *\ CellDensity);}
\DoxyCodeLine{\ \ \ \ float\ t\ =\ 8.0;}
\DoxyCodeLine{\ \ \ \ float3\ res\ =\ float3(8.0,\ 0.0,\ 0.0);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ for(int\ y=-\/1;\ y<=1;\ y++)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ for(int\ x=-\/1;\ x<=1;\ x++)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ float2\ lattice\ =\ float2(x,y);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ float2\ offset\ =\ unity\_voronoi\_noise\_randomVector(lattice\ +\ g,\ AngleOffset);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ float\ d\ =\ distance(lattice\ +\ offset,\ f);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ if(d\ <\ res.x)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ res\ =\ float3(d,\ offset.x,\ offset.y);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Out\ =\ res.x;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Cells\ =\ res.y;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 