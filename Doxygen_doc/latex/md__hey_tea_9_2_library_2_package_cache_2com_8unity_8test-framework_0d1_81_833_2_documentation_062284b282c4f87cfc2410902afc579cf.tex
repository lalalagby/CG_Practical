\chapter{Unity\+Test attribute}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8test-framework_0d1_81_833_2_documentation_062284b282c4f87cfc2410902afc579cf}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8test-framework_0d1_81_833_2_documentation_062284b282c4f87cfc2410902afc579cf}\index{UnityTest attribute@{UnityTest attribute}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8test-framework_0d1_81_833_2_documentation_062284b282c4f87cfc2410902afc579cf_autotoc_md4247}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8test-framework_0d1_81_833_2_documentation_062284b282c4f87cfc2410902afc579cf_autotoc_md4247}%
 {\ttfamily Unity\+Test} attribute is the main addition to the standard \href{http://www.nunit.org/}{\texttt{ NUnit}} library for the \doxylink{namespace_unity}{Unity} Test Framework. This type of unit test allows you to skip a frame from within a test (so background tasks can finish) or give certain commands to the \doxylink{namespace_unity}{Unity} {\bfseries{Editor}}, such as performing a domain reload or entering {\bfseries{Play Mode}} from an {\bfseries{Edit Mode}} test.

In Play Mode, the {\ttfamily Unity\+Test} attribute runs as a \href{https://docs.unity3d.com/Manual/Coroutines.html}{\texttt{ coroutine}}. Whereas Edit Mode tests run in the \href{https://docs.unity3d.com/ScriptReference/EditorApplication-update.html}{\texttt{ Editor\+Application.\+update}} callback loop.

The {\ttfamily Unity\+Test} attribute is, in fact, an alternative to the {\ttfamily NUnit} \href{https://github.com/nunit/docs/wiki/Test-Attribute}{\texttt{ Test attribute}}, which allows yielding instructions back to the framework. Once the instruction is complete, the test run continues. If you {\ttfamily yield return null}, you skip a frame. That might be necessary to ensure that some changes do happen on the next iteration of either the {\ttfamily Editor\+Application.\+update} loop or the \href{https://docs.unity3d.com/Manual/ExecutionOrder.html}{\texttt{ game loop}}.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8test-framework_0d1_81_833_2_documentation_062284b282c4f87cfc2410902afc579cf_autotoc_md4248}{}\doxysection{\texorpdfstring{Edit Mode example}{Edit Mode example}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8test-framework_0d1_81_833_2_documentation_062284b282c4f87cfc2410902afc579cf_autotoc_md4248}
The most simple example of an Edit Mode test could be the one that yields {\ttfamily null} to skip the current frame and then continues to run\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{[UnityTest]}
\DoxyCodeLine{\textcolor{keyword}{public}\ IEnumerator\ EditorUtility\_WhenExecuted\_ReturnsSuccess()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ var\ utility\ =\ RunEditorUtilityInTheBackground();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}\ (utility.isRunning)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ yield\ \textcolor{keywordflow}{return}\ null;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Assert.IsTrue(utility.isSuccess);}
\DoxyCodeLine{\}\ \ \ \ }

\end{DoxyCode}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8test-framework_0d1_81_833_2_documentation_062284b282c4f87cfc2410902afc579cf_autotoc_md4249}{}\doxysection{\texorpdfstring{Play Mode example}{Play Mode example}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8test-framework_0d1_81_833_2_documentation_062284b282c4f87cfc2410902afc579cf_autotoc_md4249}
In Play Mode, a test runs as a coroutine attached to a \href{https://docs.unity3d.com/ScriptReference/MonoBehaviour.html}{\texttt{ Mono\+Behaviour}}. So all the yield instructions available in coroutines, are also available in your test.

From a Play Mode test you can use one of Unityâ€™s \href{https://docs.unity3d.com/ScriptReference/YieldInstruction.html}{\texttt{ Yield Instructions}}\+:


\begin{DoxyItemize}
\item \href{https://docs.unity3d.com/ScriptReference/WaitForFixedUpdate.html}{\texttt{ Wait\+For\+Fixed\+Update}}\+: to ensure changes expected within the next cycle of physics calculations.
\item \href{https://docs.unity3d.com/ScriptReference/WaitForSeconds.html}{\texttt{ Wait\+For\+Seconds}}\+: if you want to pause your test coroutine for a fixed amount of time. Be careful about creating long-\/running tests.
\end{DoxyItemize}

The simplest example is to yield to {\ttfamily Wait\+For\+Fixed\+Update}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{[UnityTest]}
\DoxyCodeLine{\textcolor{keyword}{public}\ IEnumerator\ GameObject\_WithRigidBody\_WillBeAffectedByPhysics()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ var\ go\ =\ \textcolor{keyword}{new}\ GameObject();}
\DoxyCodeLine{\ \ \ \ go.AddComponent<Rigidbody>();}
\DoxyCodeLine{\ \ \ \ var\ originalPosition\ =\ go.transform.position.y;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ yield\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ WaitForFixedUpdate();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Assert.AreNotEqual(originalPosition,\ go.transform.position.y);}
\DoxyCodeLine{\}}

\end{DoxyCode}
 