\chapter{Upgrading from the Lightweight Render Pipeline to the Universal Render Pipeline}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb}\index{Upgrading from the Lightweight Render Pipeline to the Universal Render Pipeline@{Upgrading from the Lightweight Render Pipeline to the Universal Render Pipeline}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2623}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2623}%
The Universal Render Pipeline (URP) replaces the Lightweight Render Pipeline (LWRP) in \doxylink{namespace_unity}{Unity} 2019.\+3. If your Project uses LWRP, you must upgrade it to use URP to use \doxylink{namespace_unity}{Unity} 2019.\+3.

\doxylink{namespace_unity}{Unity} upgrades some things automatically, and you must make some manual changes. Follow the steps in this guide to transition from using LWRP to using URP.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2624}{}\doxysection{\texorpdfstring{Before upgrading}{Before upgrading}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2624}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2625}{}\doxysubsection{\texorpdfstring{Update Assembly Definition Assets}{Update Assembly Definition Assets}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2625}
URP uses GUIDs instead of Assembly Definition string names. If you are using Assembly Definition Assets (ASMDefs) in your Project, you should ensure that {\bfseries{Use GUIDs}} is enabled on each of them.

\doxylink{namespace_unity}{Unity} upgrades any existing string references to LWRP automatically as part of the upgrade process, but it is best practice to use GUIDs on your Assembly Definition Assets for future proofing.

For each Assembly Definition Asset in your Project\+:


\begin{DoxyItemize}
\item Select the Assembly Defintion Asset
\item In the Inspector, enable {\bfseries{Use GUIDs}}
\end{DoxyItemize}

For information on using Assembly Definition files, see the \href{https://docs.unity3d.com/Manual/ScriptCompilationAssemblyDefinitionFiles.html}{\texttt{ documentation on Assembly Definitions}}.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2626}{}\doxysection{\texorpdfstring{Upgrade process}{Upgrade process}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2626}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2627}{}\doxysubsection{\texorpdfstring{Upgrading your version of LWRP}{Upgrading your version of LWRP}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2627}
To start the upgrade process\+:


\begin{DoxyItemize}
\item Open the Project you want to upgrade in \doxylink{namespace_unity}{Unity} 2019.\+3
\end{DoxyItemize}

\doxylink{namespace_unity}{Unity} automatically updates LWRP to a 7.\+x.\+x version, and pulls in the URP package as a dependency of the updated LWRP package. The \doxylink{namespace_unity}{Unity} script updater automatically upgrades your script files. When the script updater has finished, all of your scripts should compile properly.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2628}{}\doxysubsection{\texorpdfstring{Upgrading the Shader search path}{Upgrading the Shader search path}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2628}
If your LWRP Project uses {\ttfamily Shader.\+Find} to search for LWRP Shaders, you need to change the search path.

To do this\+:
\begin{DoxyItemize}
\item Change all instances of {\ttfamily Shader.\+Find} that search for {\ttfamily Lightweight} to search for {\ttfamily Universal}.
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2629}{}\doxysubsection{\texorpdfstring{Upgrading custom shaders}{Upgrading custom shaders}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2629}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2630}{}\doxysubsubsection{\texorpdfstring{Upgrading tags}{Upgrading tags}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2630}
URP uses its own scripting tags. If your Shaders use the LWRP {\ttfamily Light\+Mode} tags, they will work in your URP Project, because \doxylink{namespace_unity}{Unity} uses an internal alias for this. However, you should change the tags manually to future-\/proof your Project.

To do this\+:


\begin{DoxyItemize}
\item Change all instances of {\ttfamily Lightweight2D} tag to {\ttfamily Universal2D}.
\item Change all instances of {\ttfamily Lightweight\+Forward} tag to {\ttfamily Universal\+Forward}.
\end{DoxyItemize}

In addition to this, URP also uses a different Render\+Pipeline tag to LWRP. If your own Shaders include this tag, you need to change it manually for the Shaders to work\+:


\begin{DoxyItemize}
\item Change all instances of {\ttfamily Lightweight\+Pipeline} tag to {\ttfamily Universal\+Pipeline}.
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2631}{}\doxysubsubsection{\texorpdfstring{Upgrading Shader names}{Upgrading Shader names}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2631}
The following Shader names have been changed for URP, so you need to manually update your Shader files\+:
\begin{DoxyItemize}
\item Change all instances of `Use\+Pass \textquotesingle{}Lightweight Render Pipeline/...'{\ttfamily to}Use\+Pass \textquotesingle{}Universal Render Pipeline/...\textquotesingle{}\`{}
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2632}{}\doxysubsubsection{\texorpdfstring{Upgrading include paths}{Upgrading include paths}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2632}
URP uses different include paths to LWRP. LWRP 7.\+x.\+x contains forwarding includes, so your custom Shaders will upgrade from LWRP to URP. However, URP 7.\+x.\+x does not contain forwarding includes, so you must then manually update the include paths.


\begin{DoxyItemize}
\item Change all instances of `\#include \textquotesingle{}Packages/com.\+unity.\+render-\/pipelines.\+lightweight/xxx'{\ttfamily to}\#include \textquotesingle{}Packages/com.\+unity.\+render-\/pipelines.\+universal/xxx\textquotesingle{}\`{}
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2633}{}\doxysubsection{\texorpdfstring{Upgrading namespaces}{Upgrading namespaces}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2633}
In the .cs files in your Project, find and replace references to the LWRP namespace with the new Universal namespace.


\begin{DoxyItemize}
\item Change all instances of {\ttfamily Unity\+Editor.\+Rendering.\+LWRP.\+xxx} to now {\ttfamily Unity\+Editor.\+Rendering.\+Universal.\+xxx}
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2634}{}\doxysection{\texorpdfstring{Upgrading post-\/processing effects}{Upgrading post-\/processing effects}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2634}
URP version 7.\+x supports both \href{https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@7.4/manual/integration-with-post-processing.html}{\texttt{ Post Processing Stack v2 (PPv2) and its own integrated post-\/processing solution}}. If you have the Post Processing Version 2 package installed in your Project and you want to use URP\textquotesingle{}s integrated post-\/processing solution, you need to delete the Post Processing Stack v2 package before you install URP into your Project. When you have installed URP, you can then recreate your post-\/processing effects.

Upgrading post-\/processing effects from LWRP to URP is a manual process. You must manually recreate each Post-\/\+Processing Profile in your Project, using URP\textquotesingle{}s post-\/processing implementation.

URP\textquotesingle{}s integrated post-\/processing solution does not currently support custom post-\/processing effects. If your Project uses custom post-\/processing effects, these cannot currently be recreated in URP\textquotesingle{}s integrated post-\/processing solution. Custom post-\/processing effects will be supported in a forthcoming release of URP.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2635}{}\doxysection{\texorpdfstring{Installing URP and removing LWRP}{Installing URP and removing LWRP}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do8c8f657f68529b870b5c5d7d72c734eb_autotoc_md2635}
As part of the automatic upgrade process, \doxylink{namespace_unity}{Unity} installed URP as a dependency of LWRP. You must now install URP as a dependency of the Project itself, so that when you remove LWRP, \doxylink{namespace_unity}{Unity} does not automatically remove URP.

To install URP as a dependency of the Project\+:


\begin{DoxyItemize}
\item Go to menu\+: {\bfseries{Window}} \texorpdfstring{$>$}{>} {\bfseries{Package Manager}}.
\item Locate the {\bfseries{Universal RP}} package, and note the version number to the right of its name. This is the version of URP that has been added to your Project.
\item Close \doxylink{namespace_unity}{Unity}.
\item In your file explorer, open the root folder of your \doxylink{namespace_unity}{Unity} Project.
\item Open the \doxylink{namespace_packages}{Packages} folder, and locate {\itshape manifest.\+json}. This is your Project\textquotesingle{}s Project Manifest file.
\item Open the Project Manifest file using a text editor.
\item At the top of the dependencies section, add the following entry\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{"{}com.unity.render-\/pipelines.universal"{}:\ "{}[Version\ number\ you\ noted\ earlier]"{}}

\end{DoxyCode}


So, for example, if the version of URP was 7.\+1.\+1, your dependencies section would look like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{"{}dependencies"{}:\ \{}
\DoxyCodeLine{\ \ \ \ "{}com.unity.render-\/pipelines.universal"{}:\ "{}7.1.1"{},}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\}}

\end{DoxyCode}


This marks the version of URP that you have installed as a dependency of the Project. You can now safely remove LWRP.


\begin{DoxyItemize}
\item Open your Project in \doxylink{namespace_unity}{Unity}.
\item Open the Package Manager Window.
\item Locate {\bfseries{Lightweight RP}} and select it.
\item In the bottom right of the Package Manager window, click Remove. \doxylink{namespace_unity}{Unity} completely removes the LWRP package from the Project. 
\end{DoxyItemize}