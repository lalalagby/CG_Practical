\chapter{Hint intrinsics}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2optimization-hint}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2optimization-hint}\index{Hint intrinsics@{Hint intrinsics}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2optimization-hint_autotoc_md419}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2optimization-hint_autotoc_md419}%
 Use the \href{xref:Unity.Burst.CompilerServices.Hint}{\texttt{ {\ttfamily Hint}}} intrinsics to add information to your code which helps with \doxylink{namespace_burst}{Burst} optimization. It has the following methods\+:


\begin{DoxyItemize}
\item \href{xref:Unity.Burst.CompilerServices.Hint.Likely*}{\texttt{ {\ttfamily Unity.\+Burst.\+Compiler\+Services.\+Hint.\+Likely}}}\+: Tells \doxylink{namespace_burst}{Burst} that a Boolean condition is likely to be true.
\item \href{xref:Unity.Burst.CompilerServices.Hint.Unlikely*}{\texttt{ {\ttfamily Unity.\+Burst.\+Compiler\+Services.\+Hint.\+Unlikely}}}\+: Tells \doxylink{namespace_burst}{Burst} that a Boolean condition is unlikely to be true.
\item \href{xref:Unity.Burst.CompilerServices.Hint.Assume*}{\texttt{ {\ttfamily Unity.\+Burst.\+Compiler\+Services.\+Hint.\+Assume}}}\+: Tells \doxylink{namespace_burst}{Burst} that it can assume a Boolean condition is true.
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2optimization-hint_autotoc_md420}{}\doxysection{\texorpdfstring{Likely intrinsic}{Likely intrinsic}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2optimization-hint_autotoc_md420}
The {\ttfamily Likely} intrinsic is most useful to tell \doxylink{namespace_burst}{Burst} which branch condition has a high probability of being true. This means that \doxylink{namespace_burst}{Burst} can focus on the branch in question for optimization purposes\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespace_unity}{Unity}}.\mbox{\hyperlink{namespace_unity_1_1_burst}{Burst}}.\mbox{\hyperlink{namespace_unity_1_1_burst_1_1_compiler_services}{CompilerServices}}.\mbox{\hyperlink{class_unity_1_1_burst_1_1_compiler_services_1_1_hint}{Hint}}.Likely(b))}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Any\ code\ in\ here\ will\ be\ optimized\ by\ Burst\ with\ the\ assumption\ that\ we'll\ probably\ get\ here!}}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{keywordflow}{else}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Whereas\ the\ code\ in\ here\ will\ be\ kept\ out\ of\ the\ way\ of\ the\ optimizer.}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2optimization-hint_autotoc_md421}{}\doxysection{\texorpdfstring{Unlikely intrinsic}{Unlikely intrinsic}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2optimization-hint_autotoc_md421}
The {\ttfamily Unlikely} intrinsic tells \doxylink{namespace_burst}{Burst} the opposite of the {\ttfamily Likely} intrinsic\+: the condition is unlikely to be true, and it should optimize against it\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespace_unity}{Unity}}.\mbox{\hyperlink{namespace_unity_1_1_burst}{Burst}}.\mbox{\hyperlink{namespace_unity_1_1_burst_1_1_compiler_services}{CompilerServices}}.\mbox{\hyperlink{class_unity_1_1_burst_1_1_compiler_services_1_1_hint}{Hint}}.Unlikely(b))}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Whereas\ the\ code\ in\ here\ will\ be\ kept\ out\ of\ the\ way\ of\ the\ optimizer.}}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{keywordflow}{else}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Any\ code\ in\ here\ will\ be\ optimized\ by\ Burst\ with\ the\ assumption\ that\ we'll\ probably\ get\ here!}}
\DoxyCodeLine{\}}

\end{DoxyCode}


The {\ttfamily Likely} and {\ttfamily Unlikely} intrinsics make sure that \doxylink{namespace_burst}{Burst} places the code most likely to be hit after the branching condition in the binary. This means that the code has a high probability of being in the instruction cache. \doxylink{namespace_burst}{Burst} can also hoist the code out of the likely branch and spend extra time optimizing it, and not spend as much time looking at the unlikely code.

An example of an unlikely branch is to check if result of an allocation is valid. The allocation is valid most of all the time, so you want the code to be fast with that assumption, but you want an error case to fall back to.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2optimization-hint_autotoc_md422}{}\doxysection{\texorpdfstring{Assume intrinsic}{Assume intrinsic}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2optimization-hint_autotoc_md422}
The {\ttfamily Assume} intrinsic is powerful. Use it with caution because it tells \doxylink{namespace_burst}{Burst} that a condition is always true.

\texorpdfstring{$>$}{>}\mbox{[}!\+WARNING\mbox{]} \texorpdfstring{$>$}{>}When you use {\ttfamily Assume}, \doxylink{namespace_burst}{Burst} assumes the value is true without checking whether it\textquotesingle{}s true.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{\mbox{\hyperlink{namespace_unity}{Unity}}.\mbox{\hyperlink{namespace_unity_1_1_burst}{Burst}}.\mbox{\hyperlink{namespace_unity_1_1_burst_1_1_compiler_services}{CompilerServices}}.\mbox{\hyperlink{class_unity_1_1_burst_1_1_compiler_services_1_1_hint}{Hint}}.Assume(b);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (b)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Burst\ has\ been\ told\ that\ b\ is\ always\ true,\ so\ this\ branch\ will\ always\ be\ taken.}}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{keywordflow}{else}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Any\ code\ in\ here\ will\ be\ removed\ from\ the\ program\ because\ b\ is\ always\ true!}}
\DoxyCodeLine{\}}

\end{DoxyCode}


Use the {\ttfamily Assume} intrinsic to arbitrarily tell \doxylink{namespace_burst}{Burst} that something is true. For example, you can use {\ttfamily Assume} to tell \doxylink{namespace_burst}{Burst} to assume that a loop end is always a multiple of 16, which means that it can provide perfect vectorization without any scalar spilling for that loop. You could also use it to tell \doxylink{namespace_burst}{Burst} that a value isn\textquotesingle{}t {\ttfamily NaN}, or it\textquotesingle{}s negative. 