\chapter{Decal Renderer Feature}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30}\index{Decal Renderer Feature@{Decal Renderer Feature}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2379}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2379}%
 With the Decal Renderer Feature, \doxylink{namespace_unity}{Unity} can project specific Materials (decals) onto other objects in the Scene. The decals interact with the Scene\textquotesingle{}s lighting and wrap around Meshes.

~\newline
{\itshape Sample scene without decals}

~\newline
{\itshape Sample scene with decals. The decals hide the seams between materials and add artistic details.}

For examples of how to use Decals, see the \href{package-sample-urp-package-samples.md\#decals}{\texttt{ Decals samples in URP Package Samples}}.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2380}{}\doxysection{\texorpdfstring{How to use the feature}{How to use the feature}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2380}
To add decals to your Scene\+:


\begin{DoxyEnumerate}
\item \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dobad63f519f0fde26755d12ecfe7020ca}{Add the Decal Renderer Feature}{0} to the URP Renderer.
\item Create a Material, and assign it the {\ttfamily Shader Graphs/\+Decal} shader. In the Material, select the Base Map and the Normal Map.


\item Create a new Decal Projector Game\+Object, or add a Decal Projector component to an existing Game\+Object.
\end{DoxyEnumerate}

The following illustration shows a Decal Projector in the Scene.



For more information, see also Decal Projector component.

\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_decal-gameobject}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_decal-gameobject}%
An alternative way to add decals to a Scene\+:


\begin{DoxyEnumerate}
\item Create a Quad Game\+Object.
\item Assign a Decal Material to the Game\+Object.
\item Position the Quad on the surface where you want the decal to be. If necessary, adjust the \href{decal-shader.md\#mesh-bias-type}{\texttt{ mesh bias}} value to prevent z-\/fighting.
\end{DoxyEnumerate}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2381}{}\doxysection{\texorpdfstring{Limitations}{Limitations}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2381}
This feature has the following limitations\+:


\begin{DoxyItemize}
\item The decal projection does not work on transparent surfaces.
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2382}{}\doxysection{\texorpdfstring{Decal Renderer Feature properties}{Decal Renderer Feature properties}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2382}
This section describes the properties of the Decal Renderer Feature.

~\newline
{\itshape Decal Renderer Feature, Inspector view.}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2383}{}\doxysubsection{\texorpdfstring{Technique}{Technique}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2383}
Select the rendering technique for the Renderer Feature.

This section describes the options in this property.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2384}{}\doxysubsubsection{\texorpdfstring{Automatic}{Automatic}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2384}
\doxylink{namespace_unity}{Unity} selects the rendering technique automatically based on the build platform.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2385}{}\doxysubsubsection{\texorpdfstring{DBuffer}{DBuffer}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2385}
\doxylink{namespace_unity}{Unity} renders decals into the Decal buffer (DBuffer). \doxylink{namespace_unity}{Unity} overlays the content of the DBuffer on top of the opaque objects during the opaque rendering.

Selecting this technique reveals the {\bfseries{Surface Data}} property. The Surface Data property lets you specify which surface properties of decals \doxylink{namespace_unity}{Unity} blends with the underlying meshes. The Surface Data property has the following options\+:


\begin{DoxyItemize}
\item {\bfseries{Albedo}}\+: decals affect the base color and the emission color.
\item {\bfseries{Albedo Normal}}\+: decals affect the base color, the emission color, and the normals.
\item {\bfseries{Albedo Normal MAOS}}\+: decals affect the base color, the emission color, the normals, the metallic values, the smoothness values, and the ambient occlusion values.
\end{DoxyItemize}

{\bfseries{Limitations\+:}}


\begin{DoxyItemize}
\item This technique requires the Depth\+Normal prepass, which makes the technique less efficient on GPUs that implement tile-\/based rendering.
\item This technique does not work on particles and terrain details.
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2386}{}\doxysubsubsection{\texorpdfstring{Screen Space}{Screen Space}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2386}
\doxylink{namespace_unity}{Unity} renders decals after the opaque objects using normals that \doxylink{namespace_unity}{Unity} reconstructs from the depth texture. \doxylink{namespace_unity}{Unity} renders decals as meshes on top of the opaque meshes. This technique supports only the normal blending.

Selecting this technique reveals the following properties.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Property}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Description}}    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Property}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Description}}    }\\\cline{1-2}
\endhead
{\bfseries{Normal Blend}}   &The options in this property (Low, Medium, and High) determine the number of samples of the depth texture that \doxylink{namespace_unity}{Unity} takes when reconstructing the normal vector from the depth texture. The higher the quality, the more accurate the reconstructed normals are, and the higher the performance impact is.    \\\cline{1-2}
\&\#160;\&\#160;\&\#160;\&\#160;{\bfseries{Low}}   &\doxylink{namespace_unity}{Unity} takes one depth sample when reconstructing normals.    \\\cline{1-2}
\&\#160;\&\#160;\&\#160;\&\#160;{\bfseries{Medium}}   &\doxylink{namespace_unity}{Unity} takes three depth samples when reconstructing normals.    \\\cline{1-2}
\&\#160;\&\#160;\&\#160;\&\#160;{\bfseries{High}}   &\doxylink{namespace_unity}{Unity} takes five depth samples when reconstructing normals.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2387}{}\doxysubsection{\texorpdfstring{Max Draw Distance}{Max Draw Distance}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2387}
The maximum distance from the Camera at which \doxylink{namespace_unity}{Unity} renders decals.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2388}{}\doxysubsection{\texorpdfstring{Use Rendering Layers}{Use Rendering Layers}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2388}
Select this check box to enable the \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_doa16a973ec50f62e886de4560e38cbeea}{Rendering Layers}{0} functionality.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2389}{}\doxysection{\texorpdfstring{Decal Projector component}{Decal Projector component}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2389}
The Decal Projector component lets \doxylink{namespace_unity}{Unity} project decals onto other objects in the Scene. A Decal Projector component must use a Material with the \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_documentation_0i_2decal-shader}{Decal Shader Graph}{0} assigned ({\ttfamily Shader Graphs/\+Decal}).

For more information on how to use the Decal Projector, see section How to use the feature.

The Decal Projector component contains the Scene view editing tools and the Decal Projector properties.

~\newline
{\itshape Decal Projector component in the Inspector.}

\begin{quote}
{\bfseries{NOTE}}\+: If you assign a Decal Material to a Game\+Object directly (not via a Decal Projector component), then Decal Projectors do not project decals on such Game\+Object. \end{quote}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2390}{}\doxysubsection{\texorpdfstring{Decal Scene view editing tools}{Decal Scene view editing tools}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2390}
When you select a Decal Projector, \doxylink{namespace_unity}{Unity} shows its bounds and the projection direction.

The Decal Projector draws the decal Material on every Mesh inside the bounding box.

The white arrow shows the projection direction. The base of the arrow is the pivot point.



The Decal Projector component provides the following Scene view editing tools.



\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Icon}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Action}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Description}}    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Icon}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Action}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Description}}    }\\\cline{1-3}
\endhead
   &{\bfseries{Scale}}   &Select to scale the projector box and the decal. This tool changes the UVs of the Material to match the size of the projector box. The tool does not affect the pivot point.    \\\cline{1-3}
   &{\bfseries{Crop}}   &Select to crop or tile the decal with the projector box. This tool changes the size of the projector box but not the UVs of the Material. The tool does not affect the pivot point.    \\\cline{1-3}
   &{\bfseries{Pivot / UV}}   &Select to move the pivot point of the decal without moving the projection box. This tool changes the transform position.~\newline
This tool also affects the UV coordinates of the projected texture.   \\\cline{1-3}
\end{longtabu}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2391}{}\doxysubsection{\texorpdfstring{Decal Projector component properties}{Decal Projector component properties}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2391}
This section describes the Decal Projector component properties.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Property}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Description}}    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Property}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Description}}    }\\\cline{1-2}
\endhead
{\bfseries{Scale Mode}}   &Select whether this Decal Projector inherits the Scale values from the Transform component of the root Game\+Object.~\newline
Options\+:~\newline
\&\#8226; {\bfseries{Scale Invariant}}\+: \doxylink{namespace_unity}{Unity} uses the scaling values (Width, Height, etc.) only in this component, and ignores the values in the root Game\+Object.~\newline
\&\#8226; {\bfseries{Inherit from Hierarchy}}\+: \doxylink{namespace_unity}{Unity} evaluates the scaling values for the decal by multiplying the \href{https://docs.unity3d.com/ScriptReference/Transform-lossyScale.html}{\texttt{ lossy Scale}} values of the Transform of the root Game\+Object by the Decal Projector\textquotesingle{}s scale values.~\newline
{\bfseries{Note}}\+: since the Decal Projector uses the orthogonal projection, if the root Game\+Object is \href{https://docs.unity3d.com/Manual/class-Transform.html}{\texttt{ skewed}}, the decal does not scale correctly.    \\\cline{1-2}
{\bfseries{Width}}   &The width of the projector bounding box. The projector scales the decal to match this value along the local X axis.    \\\cline{1-2}
{\bfseries{Height}}   &The height of the projector bounding box. The projector scales the decal to match this value along the local Y axis.    \\\cline{1-2}
{\bfseries{Projection Depth}}   &The depth of the projector bounding box. The projector projects decals along the local Z axis.    \\\cline{1-2}
{\bfseries{Pivot}}   &The offset position of the center of the projector bounding box relative to the origin of the root Game\+Object.    \\\cline{1-2}
{\bfseries{Material}}   &The Material to project. The Material must use a Shader Graph that has the Decal Material type. For more information, see the page \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_documentation_0i_2decal-shader}{Decal Shader Graph}{0}.    \\\cline{1-2}
{\bfseries{Tiling}}   &The tiling values for the decal Material along its UV axes.    \\\cline{1-2}
{\bfseries{Offset}}   &The offset values for the decal Material along its UV axes.    \\\cline{1-2}
{\bfseries{Opacity}}   &This property lets you specify the opacity value. A value of 0 makes the decal fully transparent, a value of 1 makes the decal as opaque as defined by the {\bfseries{Material}}.    \\\cline{1-2}
{\bfseries{Draw Distance}}   &The distance from the Camera to the Decal at which this projector stops projecting the decal and URP no longer renders the decal.    \\\cline{1-2}
{\bfseries{Start Fade}}   &Use the slider to set the distance from the Camera at which the projector begins to fade out the decal. Values from 0 to 1 represent a fraction of the {\bfseries{Draw Distance}}. With a value of 0.\+9, \doxylink{namespace_unity}{Unity} starts fading the decal out at 90\% of the {\bfseries{Draw Distance}} and finishes fading it out at the {\bfseries{Draw Distance}}.    \\\cline{1-2}
{\bfseries{Angle Fade}}   &Use the slider to set the fade out range of the decal based on the angle between the decal\textquotesingle{}s backward direction and the vertex normal of the receiving surface.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2392}{}\doxysection{\texorpdfstring{Performance}{Performance}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_dob943b52d47517c90d6f202299bdf4f30_autotoc_md2392}
Decals do not support the {\bfseries{SRP Batcher}} by design because they use Material property blocks. To reduce the number of draw calls, decals can be batched together using GPU instancing. If the decals in your Scene use the same Material, and if the Material has the {\bfseries{Enable GPU Instancing}} property turned on, \doxylink{namespace_unity}{Unity} instances the Materials and reduces the number of draw calls.

To reduce the number of Materials necessary for decals, put multiple decal textures into one texture (atlas). Use the UV offset properties on the decal projector to determine which part of the atlas to display.

The following image shows an example of a decal atlas.

  {\itshape left\+: decal atlas with four decals. Right\+: a decal projector is projecting one of them. If the decal Material has GPU instancing enabled, any instance of the four decals is rendered in a single instanced draw call.} 