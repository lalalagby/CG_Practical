\chapter{Dll\+Import and internal calls}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-burst-intrinsics-dllimport}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-burst-intrinsics-dllimport}\index{DllImport and internal calls@{DllImport and internal calls}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-burst-intrinsics-dllimport_autotoc_md319}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-burst-intrinsics-dllimport_autotoc_md319}%
 To call native functions, use \href{https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.dllimportattribute?view=net-6.0}{\texttt{ {\ttfamily \mbox{[}Dll\+Import\mbox{]}}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{[DllImport(\textcolor{stringliteral}{"{}MyNativeLibrary"{}})]}
\DoxyCodeLine{\textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ Foo(\textcolor{keywordtype}{int}\ arg);}

\end{DoxyCode}


\doxylink{namespace_burst}{Burst} also supports internal calls implemented inside \doxylink{namespace_unity}{Unity}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{\textcolor{comment}{//\ In\ UnityEngine.Mathf}}
\DoxyCodeLine{[MethodImpl(MethodImplOptions.InternalCall)]}
\DoxyCodeLine{\textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ ClosestPowerOfTwo(\textcolor{keywordtype}{int}\ value);}

\end{DoxyCode}


{\ttfamily Dll\+Import} is only supported for \href{https://docs.unity3d.com/Manual/NativePlugins.html}{\texttt{ native plug-\/ins}}, not platform-\/dependent libraries like {\ttfamily kernel32.\+dll}.

For all {\ttfamily Dll\+Import} and internal calls, you can only use the following types as parameter or return types\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Type}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Supported type}}    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Type}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Supported type}}    }\\\cline{1-2}
\endhead
Built-\/in and intrinsic types   &{\ttfamily byte} / {\ttfamily sbyte}~\newline
{\ttfamily short} / {\ttfamily ushort}~\newline
{\ttfamily int} / {\ttfamily uint}~\newline
{\ttfamily long} / {\ttfamily ulong}~\newline
{\ttfamily float}~\newline
{\ttfamily double}~\newline
{\ttfamily System.\+Int\+Ptr} / {\ttfamily System.\+UInt\+Ptr}~\newline
{\ttfamily \doxylink{struct_unity_1_1_burst_1_1_intrinsics_1_1v64}{Unity.\+Burst.\+Intrinsics.\+v64}} / {\ttfamily \doxylink{struct_unity_1_1_burst_1_1_intrinsics_1_1v128}{Unity.\+Burst.\+Intrinsics.\+v128}} / {\ttfamily \doxylink{struct_unity_1_1_burst_1_1_intrinsics_1_1v256}{Unity.\+Burst.\+Intrinsics.\+v256}}    \\\cline{1-2}
Pointers and references   &{\ttfamily sometype\texorpdfstring{$\ast$}{*}} \+: Pointer to any of the other types in this list~\newline
{\ttfamily ref sometype} \+: Reference to any of the other types in this list    \\\cline{1-2}
Handle structs   &{\ttfamily unsafe struct My\+Struct \{ void\texorpdfstring{$\ast$}{*} Ptr; \}} \+: Struct containing a single pointer field~\newline
{\ttfamily unsafe struct My\+Struct \{ int Value; \}} \+: Struct containing a single integer field   \\\cline{1-2}
\end{longtabu}


\begin{DoxyNote}{Note}
\texorpdfstring{$>$}{>}Passing structs by value isn\textquotesingle{}t supported; you need to pass them through a pointer or reference. The only exception is that handle structs are supported. These are structs that contain a single field of pointer or integer type. 
\end{DoxyNote}
