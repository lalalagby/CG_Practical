\chapter{UI vs Game Input}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e}\index{UI vs Game Input@{UI vs Game Input}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1619}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1619}%
 \texorpdfstring{$>$}{>}NOTE\+: More information related to ambiguities between UI and game input may be found \href{http://docs.unity3d.com/Packages/com.unity.inputsystem@1.1/manual/UISupport.html\#ui-and-game-input}{\texttt{ here in the documentation}}.

When interactive UI elements are overlaid over a game view, ambiguity may arise for inputs.

If, for example, there is a {\ttfamily UI.\+Button} on screen that can be clicked/tapped, while clicking/tapping on the scene itself also has associated functionality, clicking on the UI button should not also trigger the corresponding action on the scene.

This sample demonstrates how to handle input in such a situation.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1620}{}\doxysection{\texorpdfstring{The Sample Scene}{The Sample Scene}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1620}


The sample scene has a UI button in each of the corners of the screen. The camera in the scene can be rotated and projectiles can be fired while at the same time the buttons in the UI can be clicked.

There are two ways to control the game\+:


\begin{DoxyEnumerate}
\item "{}\+Pointer"{}, i.\+e. mouse (optionally combined with keyboard) or touch input, and
\item "{}\+Navigation"{}, i.\+e. gamepad input.
\end{DoxyEnumerate}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1621}{}\doxysubsection{\texorpdfstring{Mouse/\+Touch/\+Keyboard Input}{Mouse/\+Touch/\+Keyboard Input}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1621}

\begin{DoxyItemize}
\item When clicking any of the buttons, the "{}status bar"{} text along the bottom edge of the screen changes.
\item Left-\/click-\/dragging with the mouse or finger-\/dragging with touch rotates the camera (note\+: only when starting the drag on the background). Alternatively, when using mouse\&keyboard, holding the the left control key will engage camera control.
\item Right-\/clicking with the mouse or tapping the second finger while rotating the camera shoots a projectile.
\item Double-\/clicking/tapping on the scene resets the camera orientation.
\item Pressing {\ttfamily Escape} will bring up the game menu. With touch input, an extra button is shown in the game UI to do that.
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1622}{}\doxysubsection{\texorpdfstring{Gamepad Input}{Gamepad Input}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1622}

\begin{DoxyItemize}
\item The right stick rotates the camera and the right trigger fires a projectile.
\item Double-\/pressing the A button will reset the camera to its initial orientation.
\item Holding the left trigger switch to UI focus. UI selection is now active and can be changed with the d-\/pad or the sticks. The A button performs a button press.
\item Pressing B while in game brings up the main menu.
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1623}{}\doxysection{\texorpdfstring{How It Works}{How It Works}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1623}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1624}{}\doxysubsection{\texorpdfstring{Pointer Input}{Pointer Input}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1624}
For the most part, input processing is done in {\ttfamily Update()} such that actions are processed on a per-\/frame basis. Responses to actions that may conflict with UI input use \href{https://docs.unity3d.com/Packages/com.unity.ugui@1.0/api/UnityEngine.EventSystems.EventSystem.html?q=ispointerovergameobj\#UnityEngine_EventSystems_EventSystem_IsPointerOverGameObject}{\texttt{ {\ttfamily Is\+Pointer\+Over\+Game\+Object}}} to determine whether the pointer is currently over UI. Since this is called from {\ttfamily Update()} and thus {\itshape outside} of input processing (i.\+e. not from within an {\ttfamily Input\+Action} callback), the method can be safely called and will return an accurate result.

There are two implementations of handling the {\ttfamily Fire} action. One uses the same approach just mentioned where the action\textquotesingle{}s response is dealt with once per frame. The second one, however, immediately creates a projectile within the callback and thus operates at sub-\/frame accuracy. For a low-\/frequency input such as the {\ttfamily Fire} action here, this is not generally a useful thing to do but it is done here for the sake of demonstration. We cannot call \href{https://docs.unity3d.com/Packages/com.unity.ugui@1.0/api/UnityEngine.EventSystems.EventSystem.html?q=ispointerovergameobj\#UnityEngine_EventSystems_EventSystem_IsPointerOverGameObject}{\texttt{ {\ttfamily Is\+Pointer\+Over\+Game\+Object}}} from the action callback and thus need to use the UI\textquotesingle{}s public raycasting interface to determine "{}over UI?"{} state manually for the current pointer position.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1625}{}\doxysubsection{\texorpdfstring{Navigation Input}{Navigation Input}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_samples_0i_2_u_ivs_game_input_2_r_e_a_d_m_e_autotoc_md1625}
Navigation input employs an explicit mode switch to go from gameplay to UI input. This is handled by {\ttfamily On\+UIEngage}. 