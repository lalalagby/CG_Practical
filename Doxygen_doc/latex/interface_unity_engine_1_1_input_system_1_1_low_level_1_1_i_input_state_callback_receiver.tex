\doxysection{Unity\+Engine.\+Input\+System.\+Low\+Level.\+IInput\+State\+Callback\+Receiver Interface Reference}
\hypertarget{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver}{}\label{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver}\index{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver@{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver}}


Interface for devices that implement their own state update handling.  


Inheritance diagram for Unity\+Engine.\+Input\+System.\+Low\+Level.\+IInput\+State\+Callback\+Receiver\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=1.481482cm]{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver_adce9d48e2f0993385b8b2384cb4ad43b}{On\+Next\+Update}} ()
\begin{DoxyCompactList}\small\item\em A new input update begins. This means that the current state of the device is being carried over into the next frame. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver_a559e92564d67323e1b743c0f9beb1bd1}{On\+State\+Event}} (\mbox{\hyperlink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_input_event_ptr}{Input\+Event\+Ptr}} event\+Ptr)
\begin{DoxyCompactList}\small\item\em A new state event has been received and is being processed. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver_a957689f29167906ffe3535040f00710c}{Get\+State\+Offset\+For\+Event}} (\mbox{\hyperlink{class_unity_engine_1_1_input_system_1_1_input_control}{Input\+Control}} control, \mbox{\hyperlink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_input_event_ptr}{Input\+Event\+Ptr}} event\+Ptr, ref uint offset)
\begin{DoxyCompactList}\small\item\em Compute an offset that correlates {\itshape control}  with the state in {\itshape event\+Ptr} . \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Interface for devices that implement their own state update handling. 

The input system has built-\/in logic to automatically handle the state buffers that store input values for devices. This means that if an input event containing input state is processed, its data will be copied automatically into the state memory for the device.

However, some devices need to apply custom logic whenever new input is received. An example of this is \doxylink{class_unity_engine_1_1_input_system_1_1_pointer_a9bc9a66dcf6b4d35ee95d09870c73c4b}{Pointer.\+delta} which needs to accumulate deltas as they are received within a frame and then reset the delta at the beginning of a new frame.

Also, devices like \doxylink{class_unity_engine_1_1_input_system_1_1_touchscreen}{Touchscreen} extensively customize event handling in order to implement features such as tap detection and primary touch handling. This is what allows the device to receive state events in \doxylink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_touch_state}{Touch\+State} format even though that is not the format of the device itself (which is mainly a composite of several Touch\+States).

This interface allows to bypass the built-\/in logic and instead intercept and manually handle state updates. 

\begin{DoxySeeAlso}{See also}
\doxylink{class_unity_engine_1_1_input_system_1_1_input_device}{Input\+Device}, \doxylink{class_unity_engine_1_1_input_system_1_1_pointer}{Pointer}, \doxylink{class_unity_engine_1_1_input_system_1_1_touchscreen}{Touchscreen}


\end{DoxySeeAlso}


\doxysubsection{Member Function Documentation}
\Hypertarget{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver_a957689f29167906ffe3535040f00710c}\index{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver@{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver}!GetStateOffsetForEvent@{GetStateOffsetForEvent}}
\index{GetStateOffsetForEvent@{GetStateOffsetForEvent}!UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver@{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver}}
\doxysubsubsection{\texorpdfstring{GetStateOffsetForEvent()}{GetStateOffsetForEvent()}}
{\footnotesize\ttfamily \label{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver_a957689f29167906ffe3535040f00710c} 
bool Unity\+Engine.\+Input\+System.\+Low\+Level.\+IInput\+State\+Callback\+Receiver.\+Get\+State\+Offset\+For\+Event (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_unity_engine_1_1_input_system_1_1_input_control}{Input\+Control}}}]{control}{, }\item[{\mbox{\hyperlink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_input_event_ptr}{Input\+Event\+Ptr}}}]{event\+Ptr}{, }\item[{ref uint}]{offset}{}\end{DoxyParamCaption})}



Compute an offset that correlates {\itshape control}  with the state in {\itshape event\+Ptr} . 


\begin{DoxyParams}{Parameters}
{\em control} & Control the state of which we want to access within {\itshape event\+Ptr} .\\
\hline
{\em event\+Ptr} & An input event. Must be a \doxylink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_state_event}{State\+Event} or \doxylink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_delta_state_event}{Delta\+State\+Event}\\
\hline
{\em offset} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
False if the correlation failed or true if {\itshape offset}  has been set and should be used as the offset for the state of {\itshape control} .
\end{DoxyReturn}


This method will only be called if the given state event has a state format different than that of the device. In that case, the memory of the input state captured in the given state event cannot be trivially correlated with the control.

The input system calls the method to know which offset (if any) in the device\textquotesingle{}s state block to consider the state in {\itshape event\+Ptr}  relative to when accessing the state for {\itshape control}  as found in the event.

An example of when this is called is for touch events. These are normally sent in \doxylink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_touch_state}{Touch\+State} format which, however, is not the state format of \doxylink{class_unity_engine_1_1_input_system_1_1_touchscreen}{Touchscreen} (which uses a composite of several Touch\+States). When trying to access the state in {\itshape event\+Ptr}  to, for example, read out the touch position, 

\begin{DoxySeeAlso}{See also}
Input\+Control\+Extensions.\+Get\+State\+Ptr\+From\+State\+Event


\end{DoxySeeAlso}
\Hypertarget{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver_adce9d48e2f0993385b8b2384cb4ad43b}\index{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver@{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver}!OnNextUpdate@{OnNextUpdate}}
\index{OnNextUpdate@{OnNextUpdate}!UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver@{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver}}
\doxysubsubsection{\texorpdfstring{OnNextUpdate()}{OnNextUpdate()}}
{\footnotesize\ttfamily \label{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver_adce9d48e2f0993385b8b2384cb4ad43b} 
void Unity\+Engine.\+Input\+System.\+Low\+Level.\+IInput\+State\+Callback\+Receiver.\+On\+Next\+Update (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



A new input update begins. This means that the current state of the device is being carried over into the next frame. 

This is called without the front and back buffer for the device having been flipped. You can use Input\+State.\+Change to write values into the device\textquotesingle{}s state (e.\+g. to reset a given control to its default state) which will implicitly perform the buffer flip. 

Implemented in \mbox{\hyperlink{class_unity_engine_1_1_input_system_1_1_mouse_a46a5b8e7e38d46b2b317292c49a61755}{Unity\+Engine.\+Input\+System.\+Mouse}}, \mbox{\hyperlink{class_unity_engine_1_1_input_system_1_1_pointer_ad094347ca32340201c61f8495a0cf007}{Unity\+Engine.\+Input\+System.\+Pointer}}, and \mbox{\hyperlink{class_unity_engine_1_1_input_system_1_1_touchscreen_aab0a4d29d2a76b6ff3c7083d018c9563}{Unity\+Engine.\+Input\+System.\+Touchscreen}}.

\Hypertarget{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver_a559e92564d67323e1b743c0f9beb1bd1}\index{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver@{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver}!OnStateEvent@{OnStateEvent}}
\index{OnStateEvent@{OnStateEvent}!UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver@{UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver}}
\doxysubsubsection{\texorpdfstring{OnStateEvent()}{OnStateEvent()}}
{\footnotesize\ttfamily \label{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver_a559e92564d67323e1b743c0f9beb1bd1} 
void Unity\+Engine.\+Input\+System.\+Low\+Level.\+IInput\+State\+Callback\+Receiver.\+On\+State\+Event (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_input_event_ptr}{Input\+Event\+Ptr}}}]{event\+Ptr}{}\end{DoxyParamCaption})}



A new state event has been received and is being processed. 


\begin{DoxyParams}{Parameters}
{\em event\+Ptr} & The state event. This will be either a \doxylink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_state_event}{State\+Event} or a \doxylink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_delta_state_event}{Delta\+State\+Event}.\\
\hline
\end{DoxyParams}


Use Input\+State.\+Change to write state updates into the device state buffers. While nothing will prevent a device from writing directly into the memory buffers retrieved with Input\+Control.\+current\+State\+Ptr, doing so will bypass the buffer flipping logic as well as change detection from change monitors (\doxylink{interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_change_monitor}{IInput\+State\+Change\+Monitor}; this will cause \doxylink{class_unity_engine_1_1_input_system_1_1_input_action}{Input\+Action} to not work with the device) and thus lead to incorrect behavior. 

\begin{DoxySeeAlso}{See also}
\doxylink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_state_event}{State\+Event}, \doxylink{struct_unity_engine_1_1_input_system_1_1_low_level_1_1_delta_state_event}{Delta\+State\+Event}


\end{DoxySeeAlso}


Implemented in \mbox{\hyperlink{class_unity_engine_1_1_input_system_1_1_mouse_a5a0b9033b629993e26940b4f9eeee2a0}{Unity\+Engine.\+Input\+System.\+Mouse}}, \mbox{\hyperlink{class_unity_engine_1_1_input_system_1_1_pointer_a11e0abe9b00357720b2bcbbe343a8138}{Unity\+Engine.\+Input\+System.\+Pointer}}, and \mbox{\hyperlink{class_unity_engine_1_1_input_system_1_1_touchscreen_ad36be0b17bdfc380ed9710ae99a64fce}{Unity\+Engine.\+Input\+System.\+Touchscreen}}.



The documentation for this interface was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Hey\+Tea!/\+Library/\+Package\+Cache/com.\+unity.\+inputsystem@1.\+6.\+3/\+Input\+System/\+State/IInput\+State\+Callback\+Receiver.\+cs\end{DoxyCompactItemize}
