\chapter{Modding support}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support}\index{Modding support@{Modding support}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md411}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md411}%
 From \doxylink{namespace_unity}{Unity} 2021.\+1, you can load additional \doxylink{namespace_burst}{Burst} compiled libraries, which provide a way to create modifications that use \doxylink{namespace_burst}{Burst} compiled code.

\doxylink{namespace_burst}{Burst} only provides a method to load additional libraries, and doesn\textquotesingle{}t provide any tooling to create mods. You need a copy of the \doxylink{namespace_unity}{Unity} Editor to compile the additional libraries.

This section gives an example approach to modding with \doxylink{namespace_burst}{Burst} and is a proof of concept.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md412}{}\doxysection{\texorpdfstring{Supported uses}{Supported uses}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md412}
You can use this function in Play mode (or Standalone Players) only.

Make sure you load the libraries as soon as possible, and before the first \doxylink{namespace_burst}{Burst} compiled use of a C\# method. \doxylink{namespace_unity}{Unity} unloads any \doxylink{namespace_burst}{Burst} libraries that {\ttfamily Burst\+Runtime.\+Load\+Additional\+Libraries} loads when you exit Play mode in the Editor, quit a Standalone \doxylink{class_player}{Player}.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md413}{}\doxysection{\texorpdfstring{Example modding system}{Example modding system}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md413}
\texorpdfstring{$>$}{>}\mbox{[}!\+NOTE\mbox{]} \texorpdfstring{$>$}{>}This example is limited in scope. You should have knowledge of assemblies and asmdefs to follow this example.

This example declares an interface that the mods abide by\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{\textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_unity_engine}{UnityEngine}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{public}\ \textcolor{keyword}{interface\ }PluginModule}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ Startup(GameObject\ gameObject);}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ Update(GameObject\ gameObject);}
\DoxyCodeLine{\}}

\end{DoxyCode}


You can use this interface to create new classes which follow these specifications and ship it separate to your application. Passing a single {\ttfamily Game\+Object} along limits the state that the plug-\/ins can affect.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md414}{}\doxysubsection{\texorpdfstring{Modding manager}{Modding manager}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md414}
The following is an example of a modding manager\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{\textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_system}{System}};}
\DoxyCodeLine{\textcolor{keyword}{using\ }System.Collections.Generic;}
\DoxyCodeLine{\textcolor{keyword}{using\ }System.IO;}
\DoxyCodeLine{\textcolor{keyword}{using\ }System.Reflection;}
\DoxyCodeLine{\textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_unity_engine}{UnityEngine}};}
\DoxyCodeLine{\textcolor{keyword}{using\ }Unity.Burst;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{public}\ \textcolor{keyword}{class\ }PluginManager\ :\ MonoBehaviour}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{bool}\ modsEnabled;}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ GameObject\ objectForPlugins;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ List<PluginModule>\ plugins;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_unity_engine_1_1_input_system_1_1_low_level_a90bda7942e6235f77d48fbc1e2a42a36aa6122a65eaa676f700ae68d393054a37}{Start}}()}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ plugins\ =\ \textcolor{keyword}{new}\ List<PluginModule>();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ mods\ are\ disabled,\ early\ out\ -\/\ this\ allows\ us\ to\ disable\ mods,\ enter\ Play\ Mode,\ exit\ Play\ Mode}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//and\ be\ sure\ that\ the\ managed\ assemblies\ have\ been\ unloaded\ (assuming\ DomainReload\ occurs)}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!modsEnabled)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ var\ folder\ =\ Path.GetFullPath(Path.Combine(\mbox{\hyperlink{namespace_unity_1_1_visual_scripting_a84f7f8b69a898cf472e2c285c1b943b3ae498749f3c42246d50b15c81c101d988}{Application}}.dataPath,\ \textcolor{stringliteral}{"{}.."{}},\ \textcolor{stringliteral}{"{}Mods"{}}));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (Directory.Exists(folder))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ var\ mods\ =\ Directory.GetDirectories(folder);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ mod\ \textcolor{keywordflow}{in}\ mods)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ modName\ =\ Path.GetFileName(mod);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ monoAssembly\ =\ Path.Combine(mod,\ \$\textcolor{stringliteral}{"{}\{modName\}\_managed.dll"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (File.Exists(monoAssembly))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ managedPlugin\ =\ Assembly.LoadFile(monoAssembly);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ pluginModule\ =\ managedPlugin.GetType(\textcolor{stringliteral}{"{}MyPluginModule"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ plugin\ =\ Activator.CreateInstance(pluginModule)\ as\ PluginModule;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ plugins.Add(plugin);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ burstedAssembly\ =\ Path.Combine(mod,\ \$\textcolor{stringliteral}{"{}\{modName\}\_win\_x86\_64.dll"{}});\ \ \ \ \ \ \textcolor{comment}{//\ Burst\ dll\ (assuming\ windows\ 64bit)}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (File.Exists(burstedAssembly))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ BurstRuntime.LoadAdditionalLibrary(burstedAssembly);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ plugin\ \textcolor{keywordflow}{in}\ plugins)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ plugin.Startup(objectForPlugins);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Update\ is\ called\ once\ per\ frame}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ Update()}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ plugin\ \textcolor{keywordflow}{in}\ plugins)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ plugin.Update(objectForPlugins);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


This code scans the "{}\+Mods"{} folder, and for each folder it finds within, it attempts to load both a managed dll and a \doxylink{namespace_burst}{Burst} compiled dll. It does this by adding them to an internal list that it can then iterate on and call the respective interface functions.

The names of the files are arbitrary\+: see Simple Create Mod Menu Button, which is the code that generated those files.

Because this code loads the managed assemblies into the current domain, you need a domain reload to unload those before you can overwrite them. \doxylink{namespace_unity}{Unity} automatically unloads the \doxylink{namespace_burst}{Burst} dll files automatically unloaded when you exit Play mode. This is why a Boolean to disable the modding system is included, for testing in the Editor.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md415}{}\doxysubsection{\texorpdfstring{A mod that uses Burst}{A mod that uses Burst}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md415}
Create a separate \doxylink{namespace_unity}{Unity} project for this to use the project to produce the mod.

The following script attaches to a UI Canvas that contains a text component called {\bfseries{Main UI Label}}, and changes the text when the mod is used. The text is either {\bfseries{Plugin Updated \+: Bursted}} or {\bfseries{Plugin Updated \+: Not Bursted}}. You will see the {\bfseries{Plugin Updated \+: Bursted}} by default, but if you comment out the lines that load the \doxylink{namespace_burst}{Burst} library in the Plugin\+Manager above, then the \doxylink{namespace_burst}{Burst} compiled code doesn\textquotesingle{}t load and the message changes appropriately.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{\textcolor{keyword}{using\ }Unity.Burst;}
\DoxyCodeLine{\textcolor{keyword}{using\ }Unity.Collections;}
\DoxyCodeLine{\textcolor{keyword}{using\ }Unity.Jobs;}
\DoxyCodeLine{\textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_unity_engine}{UnityEngine}};}
\DoxyCodeLine{\textcolor{keyword}{using\ }UnityEngine.UI;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{public}\ \textcolor{keyword}{class\ }MyPluginModule\ :\ PluginModule}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ Text\ textComponent;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{void}\ Startup(GameObject\ gameObject)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ var\ childTextComponents\ =\ gameObject.GetComponentsInChildren<Text>();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ textComponent\ =\ null;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ child\ \textcolor{keywordflow}{in}\ childTextComponents)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (child.name\ ==\ \textcolor{stringliteral}{"{}Main\ UI\ Label"{}})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ textComponent\ =\ child;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (textComponent==null)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ Debug.LogError(\textcolor{stringliteral}{"{}something\ went\ wrong\ and\ i\ couldn't\ find\ the\ UI\ component\ i\ wanted\ to\ modify"{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{void}\ Update(GameObject\ gameObject)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (textComponent\ !=\ null)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ var\ t\ =\ \textcolor{keyword}{new}\ CheckBurstedJob\ \{\ flag\ =\ \textcolor{keyword}{new}\ NativeArray<int>(1,\ Allocator.TempJob,\ NativeArrayOptions.UninitializedMemory)\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ t.Run();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (t.flag[0]\ ==\ 0)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ textComponent.text\ =\ \textcolor{stringliteral}{"{}Plugin\ Updated\ :\ Not\ Bursted"{}};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ textComponent.text\ =\ \textcolor{stringliteral}{"{}Plugin\ Updated\ :\ Bursted"{}};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ t.flag.Dispose();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ [BurstCompile]}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{struct\ }CheckBurstedJob\ :\ IJob}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ NativeArray<int>\ flag;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ [BurstDiscard]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ CheckBurst()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ flag[0]\ =\ 0;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{void}\ Execute()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ flag[0]\ =\ 1;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ CheckBurst();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\}}

\end{DoxyCode}


Put the above script in a folder along with an assembly definition file with an assembly name of {\ttfamily Test\+Mod\+\_\+\+Managed}, so that the next script can locate the managed part.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md416}{}\doxysubsection{\texorpdfstring{Simple Create Mod Menu button}{Simple Create Mod Menu button}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2modding-support_autotoc_md416}
The below script adds a menu button. When you use the menu button, it builds a Standalone \doxylink{class_player}{Player}, then copies the C\# managed dll and the {\ttfamily lib\+\_\+burst\+\_\+generated}.dll into a chosen Mod folder. This example assumes you are using Windows.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{\textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_unity_editor}{UnityEditor}};}
\DoxyCodeLine{\textcolor{keyword}{using\ }System.IO;}
\DoxyCodeLine{\textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_unity_engine}{UnityEngine}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{public}\ \textcolor{keyword}{class\ }ScriptBatch}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ [MenuItem(\textcolor{stringliteral}{"{}Modding/Build\ X64\ Mod\ (Example)"{}})]}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ BuildGame()}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ modName\ =\ \textcolor{stringliteral}{"{}TestMod"{}};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ projectFolder\ =\ Path.Combine(\mbox{\hyperlink{namespace_unity_1_1_visual_scripting_a84f7f8b69a898cf472e2c285c1b943b3ae498749f3c42246d50b15c81c101d988}{Application}}.dataPath,\ \textcolor{stringliteral}{"{}.."{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ buildFolder\ =\ Path.Combine(projectFolder,\ \textcolor{stringliteral}{"{}PluginTemp"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ filename.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ path\ =\ EditorUtility.SaveFolderPanel(\textcolor{stringliteral}{"{}Choose\ Final\ Mod\ Location"{}},\ \textcolor{stringliteral}{"{}"{}},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ FileUtil.DeleteFileOrDirectory(buildFolder);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Directory.CreateDirectory(buildFolder);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Build\ player.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ var\ report\ =\ BuildPipeline.BuildPlayer(\textcolor{keyword}{new}[]\ \{\ \textcolor{stringliteral}{"{}Assets/Scenes/SampleScene.unity"{}}\ \},\ Path.Combine(buildFolder,\ \$\textcolor{stringliteral}{"{}\{modName\}.exe"{}}),\ BuildTarget.StandaloneWindows64,\ BuildOptions.Development);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (report.summary.result\ ==\ \mbox{\hyperlink{namespace_unity_editor}{UnityEditor}}.\mbox{\hyperlink{namespace_unity_editor_1_1_build}{Build}}.Reporting.BuildResult.Succeeded)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Copy\ Managed\ library}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ var\ managedDest\ =\ Path.Combine(path,\ \$\textcolor{stringliteral}{"{}\{modName\}\_Managed.dll"{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ var\ managedSrc\ =\ Path.Combine(buildFolder,\ \$\textcolor{stringliteral}{"{}\{modName\}\_Data/Managed/\{modName\}\_Managed.dll"{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ FileUtil.DeleteFileOrDirectory(managedDest);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!File.Exists(managedDest))\ \ \textcolor{comment}{//\ Managed\ side\ not\ unloaded}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FileUtil.CopyFileOrDirectory(managedSrc,\ managedDest);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Debug.LogWarning(\$\textcolor{stringliteral}{"{}Couldn't\ update\ manged\ dll,\ \{managedDest\}\ is\ it\ currently\ in\ use?"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Copy\ Burst\ library}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ var\ burstedDest\ =\ Path.Combine(path,\ \$\textcolor{stringliteral}{"{}\{modName\}\_win\_x86\_64.dll"{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ var\ burstedSrc\ =\ Path.Combine(buildFolder,\ \$\textcolor{stringliteral}{"{}\{modName\}\_Data/Plugins/x86\_64/lib\_burst\_generated.dll"{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ FileUtil.DeleteFileOrDirectory(burstedDest);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!File.Exists(burstedDest))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FileUtil.CopyFileOrDirectory(burstedSrc,\ burstedDest);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Debug.LogWarning(\$\textcolor{stringliteral}{"{}Couldn't\ update\ bursted\ dll,\ \{burstedDest\}\ is\ it\ currently\ in\ use?"{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 