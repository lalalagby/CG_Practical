\chapter{C\#/.NET type support}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support}\index{C\#/.NET type support@{C\#/.NET type support}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md367}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md367}%
 \doxylink{namespace_burst}{Burst} works on a subset of .NET that doesn\textquotesingle{}t let you use any managed objects or reference types in your code (classes in C\#).

The following sections gives more details about the constructs that \doxylink{namespace_burst}{Burst} supports, and any limitations they have.


\begin{DoxyItemize}
\item \doxylink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_built-in}{Built-\/in types}
\item \doxylink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_arrays}{Array types}
\item \doxylink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_structs}{Struct types}
\item \doxylink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_generics}{Generic types}
\item \doxylink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_vectors}{Vector types}
\item \doxylink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_enums}{Enum types}
\item \doxylink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_pointers}{Pointer types}
\item \doxylink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_spans}{Span types}
\end{DoxyItemize}

\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_built-in}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_built-in}%
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md368}{}\doxysection{\texorpdfstring{Built-\/in types}{Built-\/in types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md368}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md369}{}\doxysubsection{\texorpdfstring{Supported built-\/in types}{Supported built-\/in types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md369}
\doxylink{namespace_burst}{Burst} supports the following built-\/in types\+:


\begin{DoxyItemize}
\item {\ttfamily bool}
\item {\ttfamily byte}/{\ttfamily sbyte}
\item {\ttfamily double}
\item {\ttfamily float}
\item {\ttfamily int}/{\ttfamily uint}
\item {\ttfamily long}/{\ttfamily ulong}
\item {\ttfamily short}/{\ttfamily ushort}
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md370}{}\doxysubsection{\texorpdfstring{Unsupported built-\/in types}{Unsupported built-\/in types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md370}
\doxylink{namespace_burst}{Burst} doesn\textquotesingle{}t support the following built-\/in types\+:


\begin{DoxyItemize}
\item {\ttfamily char}
\item {\ttfamily decimal}
\item {\ttfamily string} because this is a managed type
\end{DoxyItemize}

\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_arrays}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_arrays}%
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md371}{}\doxysection{\texorpdfstring{Array types}{Array types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md371}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md372}{}\doxysubsection{\texorpdfstring{Supported array types}{Supported array types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md372}
\doxylink{namespace_burst}{Burst} supports read-\/only managed arrays loaded from static read-\/only fields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{[BurstCompile]}
\DoxyCodeLine{\textcolor{keyword}{public}\ \textcolor{keyword}{struct\ }MyJob\ :\ IJob\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ readonly\ \textcolor{keywordtype}{int}[]\ \_preComputeTable\ =\ \textcolor{keyword}{new}\ \textcolor{keywordtype}{int}[]\ \{\ 1,\ 2,\ 3,\ 4\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{int}\ Index\ \{\ get;\ set;\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{void}\ Execute()}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ x\ =\ \_preComputeTable[0];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ z\ =\ \_preComputeTable[Index];}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


However, accessing a static read-\/only managed array has the following restrictions\+:


\begin{DoxyItemize}
\item You can only use the read-\/only static managed array directly and can\textquotesingle{}t pass it around, for example as a method argument.
\item C\# code that doesn\textquotesingle{}t use jobs shouldn\textquotesingle{}t modify the read-\/only static array\textquotesingle{}s elements. This is because the \doxylink{namespace_burst}{Burst} compiler makes a read-\/only copy of the data at compilation time.
\item Multi-\/dimensional arrays aren\textquotesingle{}t supported.
\end{DoxyItemize}

If you\textquotesingle{}ve used an unsupported static constructor, \doxylink{namespace_burst}{Burst} produces the error {\ttfamily BC1361}.

For more information on how \doxylink{namespace_burst}{Burst} initializes arrays, see \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-static-read-only-support}{Static readonly fields and static constructors}{0}.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md373}{}\doxysubsection{\texorpdfstring{Unsupported array types}{Unsupported array types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md373}
\doxylink{namespace_burst}{Burst} doesn\textquotesingle{}t support managed arrays. Instead, use a native container such as \href{https://docs.unity3d.com/ScriptReference/Unity.Collections.NativeArray_1.html}{\texttt{ Native\+Array$<$\+T$>$}}.

\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_structs}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_structs}%
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md374}{}\doxysection{\texorpdfstring{Struct types}{Struct types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md374}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md375}{}\doxysubsection{\texorpdfstring{Supported structs}{Supported structs}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md375}
\doxylink{namespace_burst}{Burst} supports the following structs\+:


\begin{DoxyItemize}
\item Regular structs with any field with supported types
\item Structs with fixed array fields
\end{DoxyItemize}

\texorpdfstring{$>$}{>}\mbox{[}!\+NOTE\mbox{]} \texorpdfstring{$>$}{>}Structs with an explicit layout might generate non-\/optimal native code.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md376}{}\doxysubsection{\texorpdfstring{Supported struct layout}{Supported struct layout}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md376}
\doxylink{namespace_burst}{Burst} supports the following struct layouts\+:


\begin{DoxyItemize}
\item {\ttfamily Layout\+Kind.\+Sequential}
\item {\ttfamily Layout\+Kind.\+Explicit}
\item {\ttfamily Struct\+Layout\+Attribute.\+Pack}
\item {\ttfamily Struct\+Layout\+Attribute.\+Size}
\end{DoxyItemize}

\doxylink{namespace_burst}{Burst} supports {\ttfamily System.\+Int\+Ptr} and {\ttfamily System.\+UInt\+Ptr} natively as intrinsic structs that directly represent pointers.

\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_generics}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_generics}%
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md377}{}\doxysection{\texorpdfstring{Generic types}{Generic types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md377}
\doxylink{namespace_burst}{Burst} supports generic types used with structs. It supports full instantiation of generic calls for generic types that have interface constraints, for example when a struct with a generic parameter needs to implement an interface.

\texorpdfstring{$>$}{>}\mbox{[}!\+NOTE\mbox{]} \begin{quote}
There are restrictions if you use \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2compilation-generic-jobs}{generic jobs}{0}. \end{quote}


\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_vectors}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_vectors}%
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md378}{}\doxysection{\texorpdfstring{Vector types}{Vector types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md378}
\doxylink{namespace_burst}{Burst} can translate vector types from \href{https://docs.unity3d.com/Packages/com.unity.mathematics@latest}{\texttt{ {\ttfamily Unity.\+Mathematics}}} to native SIMD vector types with the following first class support for optimizations\+:


\begin{DoxyItemize}
\item {\ttfamily bool2}/{\ttfamily bool3}/{\ttfamily bool4}
\item {\ttfamily uint2}/{\ttfamily uint3}/{\ttfamily uint4}
\item {\ttfamily int2}/{\ttfamily int3}/{\ttfamily int4}
\item {\ttfamily float2}/{\ttfamily float3}/{\ttfamily float4}
\end{DoxyItemize}

\texorpdfstring{$>$}{>}\mbox{[}!\+TIP\mbox{]} \begin{quote}
For performance reasons, use the 4 wide types ({\ttfamily bool4}, {\ttfamily uint4}, {\ttfamily float4}, {\ttfamily int4}, ) over the other types. \end{quote}


\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_enums}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_enums}%
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md379}{}\doxysection{\texorpdfstring{Enum types}{Enum types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md379}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md380}{}\doxysubsection{\texorpdfstring{Supported enum types}{Supported enum types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md380}
\doxylink{namespace_burst}{Burst} supports all enums including enums that have a specific storage type, for example, {\ttfamily public enum My\+Enum \+: short}.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md381}{}\doxysubsection{\texorpdfstring{Unsupported enums}{Unsupported enums}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md381}
\doxylink{namespace_burst}{Burst} doesn\textquotesingle{}t support {\ttfamily Enum} methods, for example \href{https://docs.microsoft.com/en-us/dotnet/api/system.enum.hasflag?view=net-6.0}{\texttt{ {\ttfamily Enum.\+Has\+Flag}}}.

\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_pointers}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_pointers}%
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md382}{}\doxysection{\texorpdfstring{Pointer types}{Pointer types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md382}
\doxylink{namespace_burst}{Burst} supports any pointer types to any \doxylink{namespace_burst}{Burst} supported types

\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_spans}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_spans}%
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md383}{}\doxysection{\texorpdfstring{Span types}{Span types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8burst_0d1_88_87_2_documentation_0i_2csharp-type-support_autotoc_md383}
\doxylink{namespace_burst}{Burst} supports \href{https://docs.microsoft.com/en-us/dotnet/api/system.span-1?view=net-6.0}{\texttt{ {\ttfamily Span\texorpdfstring{$<$}{<}T\texorpdfstring{$>$}{>}}}} and \href{https://docs.microsoft.com/en-us/dotnet/api/system.readonlyspan-1?view=net-6.0}{\texttt{ {\ttfamily Read\+Only\+Span\texorpdfstring{$<$}{<}T\texorpdfstring{$>$}{>}}}} types in the \doxylink{namespace_unity}{Unity} Editors that support them.

You can only use span types in \doxylink{namespace_burst}{Burst} jobs or function-\/pointers, but not across the interface to them. This is because in C\#\textquotesingle{}s implementation of the span types it supports taking spans into managed data types (like a managed array). For example, the following code is invalid\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\ \#}}
\DoxyCodeLine{[BurstCompile]}
\DoxyCodeLine{\textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SomeFunctionPointer(Span<int>\ span)\ \{\}}

\end{DoxyCode}


This is because {\ttfamily Span} is used across the managed and \doxylink{namespace_burst}{Burst} boundary. In \doxylink{namespace_burst}{Burst}, span types respect any safety check setting, and only perform performance-\/intensive checks when safety checks are enabled. 