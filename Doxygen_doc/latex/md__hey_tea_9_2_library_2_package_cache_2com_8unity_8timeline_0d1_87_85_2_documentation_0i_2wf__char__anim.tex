\chapter{Animating a humanoid}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2wf__char__anim}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2wf__char__anim}\index{Animating a humanoid@{Animating a humanoid}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2wf__char__anim_autotoc_md4766}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2wf__char__anim_autotoc_md4766}%
 This task demonstrates how to use a \doxylink{namespace_timeline}{Timeline} instance to animate a humanoid with external motion clips. This workflow also demonstrates how to match clip offsets, manually adjust clip offsets, and create blends between clips to minimize jumping and sliding. Although this workflow uses a humanoid, you can use this animation method for any Game\+Object.

This workflow assumes that you have already created a \doxylink{namespace_timeline}{Timeline} instance with an empty Animation track bound to a humanoid. For example, the Default\+Male humanoid is bound to an empty Animation track\+:



{\itshape Default\+Male humanoid bound to an empty Animation track.}

From your Project, drag a motion clip into the Animation track to create a new Animation clip. For example, drag an idle pose as the first clip to start the humanoid from an idle stance.

To position, resize, or trim your Animation clip in the Clips view, select {\bfseries{Mix mode}} as the Clip Edit mode. There are \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2clp__about}{three different Clip Edit modes}{0} that change the editing behaviour of the \doxylink{namespace_timeline}{Timeline} window. When the \doxylink{namespace_timeline}{Timeline} window is in {\bfseries{Mix mode}}, you can drag and trim clips to create blends.



{\itshape Animation track, bound to the Default\+Male humanoid, with an idle pose (Idle) as its Animation clip. The Mix mode (red circle) is the selected Clip Edit mode.}

Add a second Animation clip. This example adds a run and turn left clip (named Run\+\_\+\+Left) to the Animation track, and then resizes the clip to include one loop, so the Default\+Male runs and turns 180 degrees.



{\itshape Animation track with an Idle clip and a Run\+\_\+\+Left clip}

Play the \doxylink{namespace_timeline}{Timeline} instance. In this example, the Default\+Male humanoid jumps between each Animation clip because the position of the humanoid at the end of the first Animation clip (Idle) does not match the position of the humanoid at the start of the next Animation clip (Run\+Left).



{\itshape The humanoid jumps between the first Animation clip, which ends at frame 29 (red arrow and box), and the second Animation clip, which starts at frame 30 (ghost with green arrow and box)}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2wf__char__anim_autotoc_md4767}{}\doxysection{\texorpdfstring{Matching clips}{Matching clips}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2wf__char__anim_autotoc_md4767}
To fix the animation jump between clips, match the offset of each Animation clip. The \doxylink{namespace_timeline}{Timeline} window provides \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2clp__match}{different methods for matching offsets}{0}. In this example, \doxylink{namespace_timeline}{Timeline} matches the second Animation clip with the previous clip. To do this, select the Run\+\_\+\+Left clip, right-\/click and select {\bfseries{Match Offsets to Previous Clip}}.



{\itshape Right-\/click and select Match Offsets to Previous Clip to match the offsets of the selected Animation clip with the preceding Animation clip}



{\itshape After matching offsets, the position and rotation of the humanoid at the start of the second Animation clip (frame 30, ghost with green arrow) matches the position and rotation of the humanoid at the end of the first Animation clip (frame 29, red arrow)}

Play the \doxylink{namespace_timeline}{Timeline} instance again. Although the position and rotation of the humanoid matches, there is still a jump between the two Animation clips because the humanoid is in different poses. At the end of the first Animation clip, the humanoid is standing upright with its feet together. At the start of the second Animation clip, the humanoid is bent forward with its feet apart.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2wf__char__anim_autotoc_md4768}{}\doxysection{\texorpdfstring{Blending clips}{Blending clips}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2wf__char__anim_autotoc_md4768}
\doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2clp__blend}{Create a blend}{0} to remove the jump and transition between the two poses. Adjust the size of the clips, the Blend Area, the Clip In, and the shape of each Blend Curve to create a transition between the two poses. For example, in the transition between the Idle clip and the Run\+\_\+\+Left clip, the Idle clip was resized to 36 frames and the Run\+\_\+\+Left clip was repositioned to start at frame 25. The rest of the clip properties are unchanged from their default values.



{\itshape With Mix mode selected, you can create a blend (red circle) between two clips to create a smooth transition between two animations.}

As the Idle clip transitions to the Run\+\_\+\+Left clip, the blend removes the obvious jump between poses. The transition between most body parts appears natural, however in this example, the blend between the different positions of the foot results in an unnatural foot slide.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2wf__char__anim_autotoc_md4769}{}\doxysection{\texorpdfstring{Reducing foot slide}{Reducing foot slide}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8timeline_0d1_87_85_2_documentation_0i_2wf__char__anim_autotoc_md4769}
To reduce foot sliding, manually adjust the offset of an Animation clip so that the position of the foot changes less drastically. To manually adjust the offset, select the Animation clip in the \doxylink{namespace_timeline}{Timeline} window. In the Inspector window, expand {\bfseries{Animation Playable Asset}}.



{\itshape Select an Animation clip. In the Inspector window, expand {\bfseries{Animation Playable Asset}} (red) to view the {\bfseries{Clip Transform Offsets}}.}

The rotation and position {\bfseries{Clip Transform Offsets}} are not zero because performing {\bfseries{Match Offsets to Previous Clip}} already set these values to match the root (hips) of the humanoid at the end of the previous Animation clip.

Under {\bfseries{Clip Transform Offsets}}, enable the Move tool. The Move Gizmo appears in the Scene view, at the root of the Animation clip.



{\itshape Enable the Move tool (Inspector window, red arrow) to show the Move Gizmo (green arrow) in the Scene view}

Use one of the following methods to manually adjust the offset position of the Animation clip\+:


\begin{DoxyItemize}
\item In the Scene view, drag the Move Gizmo.
\item In the Inspector window, under {\bfseries{Clip Transform Offsets}}, change the value of the appropriate {\bfseries{Position}} property. 
\end{DoxyItemize}