\chapter{URP unlit shader with color input}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do371daa0f53e84dc8e548070f6e70d5f1}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do371daa0f53e84dc8e548070f6e70d5f1}\index{URP unlit shader with color input@{URP unlit shader with color input}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do371daa0f53e84dc8e548070f6e70d5f1_autotoc_md2709}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do371daa0f53e84dc8e548070f6e70d5f1_autotoc_md2709}%
 The \doxylink{namespace_unity}{Unity} shader in this example adds the {\bfseries{Base Color}} property to the Material. You can select the color using that property and the shader fills the mesh shape with the color.

Use the \doxylink{namespace_unity}{Unity} shader source file from section \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_doede214fd129bc83b060cf416b47c1ca5}{URP unlit basic shader}{0} and make the following changes to the Shader\+Lab code\+:


\begin{DoxyEnumerate}
\item Add the {\ttfamily \+\_\+\+Base\+Color} property definition to the Properties block\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{++}
\DoxyCodeLine{\ \ \ Properties}
\DoxyCodeLine{\ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ [MainColor]\ \_BaseColor(\textcolor{stringliteral}{"{}Base\ Color"{}},\ Color)\ =\ (1,\ 1,\ 1,\ 1)}
\DoxyCodeLine{\ \ \ \}}

\end{DoxyCode}


This declaration adds the {\ttfamily \+\_\+\+Base\+Color} property with the label {\bfseries{Base Color}} to the Material\+:



When you declare a property with the {\ttfamily \mbox{[}Main\+Color\mbox{]}} attribute, \doxylink{namespace_unity}{Unity} uses this property as the \href{https://docs.unity3d.com/ScriptReference/Material-color.html}{\texttt{ main color}} of the Material.

\texorpdfstring{$>$}{>} {\bfseries{Note}}\+: For compatibility reasons, the {\ttfamily \+\_\+\+Color} property name is a reserved name. \doxylink{namespace_unity}{Unity} uses a property with the name {\ttfamily \+\_\+\+Color} as the \href{https://docs.unity3d.com/ScriptReference/Material-color.html}{\texttt{ main color}} even it does not have the {\ttfamily \mbox{[}Main\+Color\mbox{]}} attribute.
\item When you declare a property in the Properties block, you also need to declare it in the HLSL code.
\end{DoxyEnumerate}

\begin{quote}
{\bfseries{NOTE}}\+: To ensure that the \doxylink{namespace_unity}{Unity} shader is SRP Batcher compatible, declare all Material properties inside a single {\ttfamily CBUFFER} block with the name {\ttfamily Unity\+Per\+Material}. For more information on the SRP Batcher, see the page \href{https://docs.unity3d.com/Manual/SRPBatcher.html}{\texttt{ Scriptable Render Pipeline (SRP) Batcher}}. \end{quote}


Add the following code before the vertex shader\+:

{\ttfamily c++ CBUFFER\+\_\+\+START(\+Unity\+Per\+Material) half4 \+\_\+\+Base\+Color; CBUFFER\+\_\+\+END }


\begin{DoxyEnumerate}
\item Change the code in the fragment shader so that it returns the {\ttfamily \+\_\+\+Base\+Color} property.


\begin{DoxyCode}{0}
\DoxyCodeLine{++}
\DoxyCodeLine{\ \ \ half4\ frag()\ :\ SV\_Target}
\DoxyCodeLine{\ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_BaseColor;}
\DoxyCodeLine{\ \ \ \}}

\end{DoxyCode}

\end{DoxyEnumerate}

Now you can select the color in the {\bfseries{Base Color}} field in the Inspector window. The fragment shader fills the mesh with the color you select.



Below is the complete Shader\+Lab code for this example.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{comment}{//\ This\ shader\ fills\ the\ mesh\ shape\ with\ a\ color\ that\ a\ user\ can\ change\ using\ the}}
\DoxyCodeLine{\textcolor{comment}{//\ Inspector\ window\ on\ a\ Material.}}
\DoxyCodeLine{Shader\ \textcolor{stringliteral}{"{}Example/URPUnlitShaderColor"{}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ The\ \_BaseColor\ variable\ is\ visible\ in\ the\ Material's\ Inspector,\ as\ a\ field}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ called\ Base\ Color.\ You\ can\ use\ it\ to\ select\ a\ custom\ color.\ This\ variable}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ has\ the\ default\ value\ (1,\ 1,\ 1,\ 1).}}
\DoxyCodeLine{\ \ \ \ Properties}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ [MainColor]\ \_BaseColor(\textcolor{stringliteral}{"{}Base\ Color"{}},\ Color)\ =\ (1,\ 1,\ 1,\ 1)}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ SubShader}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Tags\ \{\ \textcolor{stringliteral}{"{}RenderType"{}}\ =\ \textcolor{stringliteral}{"{}Opaque"{}}\ \textcolor{stringliteral}{"{}RenderPipeline"{}}\ =\ \textcolor{stringliteral}{"{}UniversalPipeline"{}}\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Pass}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ HLSLPROGRAM}
\DoxyCodeLine{\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \#pragma\ vertex\ vert}}
\DoxyCodeLine{\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \#pragma\ fragment\ frag}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \#include\ "{}Packages/com.unity.render-\/pipelines.universal/ShaderLibrary/Core.hlsl"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }Attributes}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ float4\ positionOS\ \ \ :\ POSITION;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }Varyings}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ float4\ positionHCS\ \ :\ SV\_POSITION;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ To\ make\ the\ Unity\ shader\ SRP\ Batcher\ compatible,\ declare\ all}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ properties\ related\ to\ a\ Material\ in\ a\ a\ single\ CBUFFER\ block\ with}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ name\ UnityPerMaterial.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ CBUFFER\_START(UnityPerMaterial)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ following\ line\ declares\ the\ \_BaseColor\ variable,\ so\ that\ you}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ can\ use\ it\ in\ the\ fragment\ shader.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ half4\ \_BaseColor;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ CBUFFER\_END}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ Varyings\ vert(Attributes\ IN)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Varyings\ OUT;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OUT.positionHCS\ =\ TransformObjectToHClip(IN.positionOS.xyz);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ OUT;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ half4\ frag()\ :\ SV\_Target}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Returning\ the\ \_BaseColor\ value.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_BaseColor;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ENDHLSL}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


Section \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do92cbff61267a4ef6cd2a05431c845525}{Drawing a texture}{0} shows how to draw a texture on the mesh. 