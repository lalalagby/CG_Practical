\chapter{Keyboard support}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard}\index{Keyboard support@{Keyboard support}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard_autotoc_md1420}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard_autotoc_md1420}%
 The \href{../api/UnityEngine.InputSystem.Keyboard.html}{\texttt{ {\ttfamily Keyboard}}} class defines a \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_devices}{Device}{0} with a set of key Controls defined by the \href{../api/UnityEngine.InputSystem.Key.html}{\texttt{ {\ttfamily Key}}} enumeration.

The location of individual keys is agnostic to keyboard layout. This means that, for example, the {\ttfamily A} key is always the key to the right of the {\ttfamily Caps Lock} key, regardless of where the currently active keyboard layout places the key that generates an {\ttfamily a} character, or whether or not the layout doesn\textquotesingle{}t have a key assigned to that character.

To query which (if any) character is generated by a given key, use the key Control\textquotesingle{}s \href{../api/UnityEngine.InputSystem.InputControl.html\#UnityEngine_InputSystem_InputControl_displayName}{\texttt{ {\ttfamily display\+Name}}} property. The value of this property changes automatically when the OS changes the keyboard layout.

You can look up keys based on the character they produce using \href{Controls.md\#control-paths}{\texttt{ Control paths}}. For example, you can query the key that produces the producing the {\ttfamily a} character from \href{../api/UnityEngine.InputSystem.Keyboard.html}{\texttt{ {\ttfamily Keyboard}}} using \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_Item_UnityEngine_InputSystem_Key_}{\texttt{ {\ttfamily Keyboard.\+current\mbox{[}"{}\#(a)"{}\mbox{]}}}}.

\texorpdfstring{$>$}{>}{\bfseries{Note}} \texorpdfstring{$>$}{>}\texorpdfstring{$\ast$}{*} Keyboards usually have hardware limitations on both the number of simultaneous keypresses they report, and the combinations of keys they support. This means that certain simultaneous keypresses may not register correctly. For example, a given keyboard might report a simultaneous press of the "{}\+QWERT"{} keys correctly, but might not report "{}\+QWERA"{} correctly. \texorpdfstring{$>$}{>}\texorpdfstring{$\ast$}{*} At the moment, the new Input \doxylink{namespace_system}{System} doesn\textquotesingle{}t support on-\/screen keyboards. For now, please \doxylink{namespace_unity}{Unity}\textquotesingle{}s existing API in {\ttfamily Unity\+Engine.\+Touch\+Screen\+Keyboard}. \texorpdfstring{$>$}{>}\texorpdfstring{$\ast$}{*} At the moment, \doxylink{namespace_unity}{Unity} platform backends generally do not support distinguishing between multiple keyboards. While the Input \doxylink{namespace_system}{System} supports having many \href{../api/UnityEngine.InputSystem.Keyboard.html}{\texttt{ {\ttfamily Keyboard}}} devices at any point, platform backends generally only report a single keyboard and route input from all attached keyboards to the one keyboard device.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard_autotoc_md1421}{}\doxysection{\texorpdfstring{Controls}{Controls}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard_autotoc_md1421}
To retrieve a key from \href{../api/UnityEngine.InputSystem.Keyboard.html}{\texttt{ {\ttfamily Keyboard}}}, you can use one of these methods\+:


\begin{DoxyItemize}
\item Use the key\textquotesingle{}s accessor property, such \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_spaceKey}{\texttt{ {\ttfamily Keyboard.\+space\+Key}}}.
\item Use \href{../api/UnityEngine.InputSystem.Keyboard.html}{\texttt{ {\ttfamily Keyboard}}}\textquotesingle{}s indexer and the \href{../api/UnityEngine.InputSystem.Key.html}{\texttt{ {\ttfamily Key}}} enumeration (for example, {\ttfamily keyboard\mbox{[}Key.\+Space\mbox{]}}).
\end{DoxyItemize}

The \href{../api/UnityEngine.InputSystem.Keyboard.html}{\texttt{ scripting API reference for the {\ttfamily Keyboard} class}} lists all the properties for the individual key Controls.

Two special Controls, \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_anyKey}{\texttt{ {\ttfamily any\+Key}}} and \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_imeSelected}{\texttt{ {\ttfamily ime\+Selected}}}, don\textquotesingle{}t directly map to individual keys. \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_anyKey}{\texttt{ {\ttfamily any\+Key}}} is a \href{Controls.md\#synthetic-controls}{\texttt{ synthetic}} button Control which reports whether any key on the keyboard is pressed, and \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_imeSelected}{\texttt{ {\ttfamily ime\+Selected}}} reports whether or not IME text processing is enabled.

In addition, \href{../api/UnityEngine.InputSystem.Keyboard.html}{\texttt{ {\ttfamily Keyboard}}}\textquotesingle{}s indexer and the \href{../api/UnityEngine.InputSystem.Key.html}{\texttt{ {\ttfamily Key}}} has three \href{Controls.md\#synthetic-controls}{\texttt{ synthetic}} controls that represent combinations of modifier keys\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Control   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Control   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
\href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_shiftKey}{\texttt{ {\ttfamily shift\+Key}}}   &A button that is pressed if \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_leftShiftKey}{\texttt{ {\ttfamily left\+Shift\+Key}}} and/or \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_rightShiftKey}{\texttt{ {\ttfamily right\+Shift\+Key}}} is pressed.    \\\cline{1-2}
\href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_ctrlKey}{\texttt{ {\ttfamily ctrl\+Key}}}   &A button that is pressed if \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_leftCtrlKey}{\texttt{ {\ttfamily left\+Ctrl\+Key}}} and/or \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_rightCtrlKey}{\texttt{ {\ttfamily right\+Ctrl\+Key}}} is pressed.    \\\cline{1-2}
\href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_altKey}{\texttt{ {\ttfamily alt\+Key}}}   &A button that is pressed if \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_leftAltKey}{\texttt{ {\ttfamily left\+Alt\+Key}}} and/or \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_rightAltKey}{\texttt{ {\ttfamily right\+Alt\+Key}}} is pressed.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard_autotoc_md1422}{}\doxysection{\texorpdfstring{Text input}{Text input}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard_autotoc_md1422}
As a best practice, you shouldn\textquotesingle{}t manually translate text input from key presses by trying to string together the characters corresponding to the keys. Instead, to listen to text input, hook into \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_onTextInput}{\texttt{ {\ttfamily Keyboard.\+on\+Text\+Input}}}. This delivers character-\/by-\/character input as reported by the platform, including input from on-\/screen keyboards.

Note that the text input API doesn\textquotesingle{}t allocate GC memory because it doesn\textquotesingle{}t deliver fully composed strings.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard_autotoc_md1423}{}\doxysubsection{\texorpdfstring{IME}{IME}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard_autotoc_md1423}
Some writing systems, such as some East-\/\+Asian scripts, are too complex to represent all characters as individual keys on a keyboard. For these layouts, operating systems implement IMEs (Input Method Editors) to allow composing input strings by other methods, for instance by typing several keys to produce a single character. \doxylink{namespace_unity}{Unity}\textquotesingle{}s UI frameworks for text input support IME without any additional configuration. If you want to build your own UI for text input, the \href{../api/UnityEngine.InputSystem.Keyboard.html}{\texttt{ {\ttfamily Keyboard}}} class allows you to work with input from IMEs using the following APIs\+:


\begin{DoxyItemize}
\item \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_imeSelected}{\texttt{ {\ttfamily ime\+Selected}}} is a virtual input Control that reports whether IME text processing is enabled.
\item \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_SetIMEEnabled_System_Boolean_}{\texttt{ {\ttfamily Set\+IMEEnabled()}}} is a method which lets you turn IME processing on or off. Typically, IME processing is useful when the user wants to edit text, but not so much when the user is using the keyboard to control a game.
\item \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_SetIMECursorPosition_UnityEngine_Vector2_}{\texttt{ {\ttfamily Set\+IMECursor\+Position()}}}. IMEs might open system windows that let users interactively edit the text they want to input. Typically, these open next to the text editing UI. You can use the \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_SetIMECursorPosition_UnityEngine_Vector2_}{\texttt{ {\ttfamily Set\+IMECursor\+Position()}}} method to tell the OS where that is.
\item \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_onIMECompositionChange}{\texttt{ {\ttfamily on\+IMEComposition\+Change}}} is an event you can subscribe to in order to receive all updates to the IME composition string. The composition string is the text input the user is currently editing using an IME. Typically, any UI dealing with text input displays this text (with some visual indication of it being actively edited, usually an underline) at the current text input cursor position.
\end{DoxyItemize}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard_autotoc_md1424}{}\doxysection{\texorpdfstring{Keyboard layouts}{Keyboard layouts}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_keyboard_autotoc_md1424}
You can query the name of the current keyboard layout using \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_keyboardLayout}{\texttt{ {\ttfamily Keyboard.\+keyboard\+Layout}}}. Layout names are platform-\/specific.

There is no support for setting keyboard layouts from your application.

To monitor keyboard layout changes, hook into \href{../api/UnityEngine.InputSystem.InputSystem.html\#UnityEngine_InputSystem_InputSystem_onDeviceChange}{\texttt{ {\ttfamily Input\+System.\+on\+Device\+Change}}} and check for \href{../api/UnityEngine.InputSystem.InputDeviceChange.html}{\texttt{ {\ttfamily Input\+Device\+Change.\+Configuration\+Changed}}} on a \href{../api/UnityEngine.InputSystem.Keyboard.html}{\texttt{ {\ttfamily Keyboard}}} device.

To find the key control that corresponds to a specific display character sequence, call \href{../api/UnityEngine.InputSystem.Keyboard.html\#UnityEngine_InputSystem_Keyboard_FindKeyOnCurrentKeyboardLayout_}{\texttt{ {\ttfamily Keyboard.\+Find\+Key\+On\+Current\+Keyboard\+Layout}}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ Find\ key\ that\ generates\ a\ 'q'\ character\ according\ to\ the\ current\ keyboard\ layout.}}
\DoxyCodeLine{Keyboard.current.FindKeyOnCurrentKeyboardLayout(\textcolor{stringliteral}{"{}q"{}});}

\end{DoxyCode}
 