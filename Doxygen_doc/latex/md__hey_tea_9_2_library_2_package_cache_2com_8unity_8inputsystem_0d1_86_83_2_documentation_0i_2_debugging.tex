\chapter{Debugging}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging}\index{Debugging@{Debugging}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1311}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1311}%

\begin{DoxyItemize}
\item Debugging
\begin{DoxyItemize}
\item Input Debugger
\begin{DoxyItemize}
\item Debugging Devices
\item Debugging Actions
\item Debugging users and Player\+Input
\item Debugging layouts
\item Debugging remotely
\end{DoxyItemize}
\item Input visualizers
\begin{DoxyItemize}
\item \`{}\+Input\+Control\+Visualizer\`{}
\item \`{}\+Input\+Action\+Visualizer\`{}
\end{DoxyItemize}
\item Device Simulator
\item Unity Remote (i\+OS, Android)
\item Other tips\+:
\end{DoxyItemize}
\end{DoxyItemize}

When something isn\textquotesingle{}t working as expected, the quickest way to troubleshoot what\textquotesingle{}s wrong is the Input Debugger in the \doxylink{namespace_unity}{Unity} Editor. The Input Debugger provides access to the activity of the Input \doxylink{namespace_system}{System} in both the Editor and the connected Players.

To open the Input Debugger, go to {\bfseries{Window \texorpdfstring{$>$}{>} Analysis \texorpdfstring{$>$}{>} Input Debugger}} from \doxylink{namespace_unity}{Unity}\textquotesingle{}s main menu.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1312}{}\doxysection{\texorpdfstring{Input Debugger}{Input Debugger}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1312}


The Input Debugger displays a tree breakdown of the state of the Input \doxylink{namespace_system}{System}.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Item   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Item   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
Devices   &A list of all \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_devices}{Input Devices}{0} that are currently in the system, and a list of unsupported/unrecognized Devices.    \\\cline{1-2}
Layouts   &A list of all registered Control and Device layouts. This is the database of supported hardware, and information on how to represent a given piece of input hardware.    \\\cline{1-2}
Actions   &Only visible in Play mode, and only if at least one \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_actions}{Action}{0} is enabled.~\newline
~\newline
A list of all currently enabled Actions, and the Controls they are bound to.~\newline
~\newline
See Debugging Actions.    \\\cline{1-2}
Users   &Only visible when one or more {\ttfamily Input\+User} instances exist. See documentation on \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_user_management}{user management}{0}.~\newline
~\newline
A list of all currently active users, along with their active Control Schemes and Devices, all their associated Actions, and the Controls these Actions are bound to.~\newline
~\newline
Note that {\ttfamily Player\+Input} uses {\ttfamily Input\+User} to run. When using {\ttfamily Player\+Input} components, each player has an entry in this list.~\newline
~\newline
See Debugging users and Player\+Input.    \\\cline{1-2}
Settings   &The currently active Input \doxylink{namespace_system}{System} \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_settings}{settings}{0}.    \\\cline{1-2}
Metrics   &Statistics about Input \doxylink{namespace_system}{System} resource usage.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1313}{}\doxysubsection{\texorpdfstring{Debugging Devices}{Debugging Devices}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1313}
In the Input Debugger window, navigate to the {\bfseries{Devices}} list and double-\/click any \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_devices}{Input Device}{0}. This opens a window that displays information about the Device, including real-\/time state information for its Controls.



The top of the Device window displays general information about the specific Device, such as name, manufacturer, and serial number.

The {\bfseries{Controls}} section lists the Device\textquotesingle{}s Controls and their individual states. This is useful when debugging input issues, because you can verify whether the data that the Input \doxylink{namespace_system}{System} receives from the Input Device is what you expect it to be. There are two buttons at the top of this panel\+:


\begin{DoxyItemize}
\item {\bfseries{HID Descriptor}}\+: Only displayed for devices that use the HID protocol to connect. This opens a window that displays the detailed \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_h_i_d}{HID}{0} specifications for the Device and each of it\textquotesingle{}s logical controls.
\item {\bfseries{State}}\+: Display the current state of the Device in a new window. This is identical to the information displayed in this view, but doesn\textquotesingle{}t update in real time, so you can take a snapshot of input state data and take the time to inspect it as needed.
\end{DoxyItemize}

The {\bfseries{Events}} section lists all \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_events}{input events}{0} generated by the Device. You can double-\/click any event in the list to inspect the full Device state at the time the event occurred. To get a side-\/by-\/side difference between the state of the Device at different points in time, select multiple events, right-\/click them, and click {\bfseries{Compare}} from the context menu.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1314}{}\doxysubsection{\texorpdfstring{Debugging Actions}{Debugging Actions}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1314}
The Input Debugger window lists all enabled \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_actions}{Actions}{0} in the {\bfseries{Actions}} list. This list only appears if at least one Action is active and the Editor is in Play mode. If an Action has actively bound Controls, you can click the arrow next to the Action to see a list of the Controls. This is useful to debug whether your Bindings correctly map to the Controls you want them to bind to. See documentation on \href{ActionBindings.md\#binding-resolution}{\texttt{ Binding resolution}} for more information about how \doxylink{namespace_unity}{Unity} maps Bindings to Controls.

\texorpdfstring{$>$}{>}{\bfseries{Note}}\+: Actions that belong to \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_user_management}{{\ttfamily Input\+Users}}{0} don\textquotesingle{}t appear here. They appear in the \+\_\+\+\_\+\+Users\+\_\+\+\_\+ list instead.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1315}{}\doxysubsection{\texorpdfstring{Debugging users and Player\+Input}{Debugging users and Player\+Input}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1315}
When there are \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_user_management}{{\ttfamily Input\+User}}{0} instances (if you use {\ttfamily Player\+Input}, each {\ttfamily Player\+Input} instance implicitly creates one), the Input Debugger\textquotesingle{}s {\bfseries{Users}} list displays each instance along with its paired Devices and active Actions. The listed Devices and Actions work the same way as those displayed in the \+\_\+\+\_\+\+Devices\+\_\+\+\_\+ and \+\_\+\+\_\+\+Actions\+\_\+\+\_\+ lists in the debugging window.

\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1316}{}\doxysubsection{\texorpdfstring{Debugging layouts}{Debugging layouts}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1316}
The \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_layouts}{{\bfseries{Layouts}}}{0} list in the Input Debugger window displays a breakdown of all registered \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_layouts}{Control and Device layouts}{0}. This is the database of supported hardware and the knowledge of how to represent a given piece of input hardware. It\textquotesingle{}s useful when you want to \href{HID.md\#creating-a-custom-device-layout}{\texttt{ create a new Device mapping}} and see how the Input \doxylink{namespace_system}{System} represents it.

\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1317}{}\doxysubsection{\texorpdfstring{Debugging remotely}{Debugging remotely}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1317}
You can connect the Input Debugger to a \doxylink{class_player}{Player} that runs on a remote computer or device. This makes it possible to observe input activity from the \doxylink{class_player}{Player} in the Editor. This connection uses the {\ttfamily Player\+Connection} mechanism, which is the same one the \doxylink{namespace_unity}{Unity} profiler uses to connect to a \doxylink{class_player}{Player}.

\texorpdfstring{$>$}{>}{\bfseries{Note}}\+: At the moment, debugging input in Players is restricted to seeing Devices and events from connected Players. There is no support for seeing other input-\/related data such as Actions and input users from Players.

To see remote Devices from built Players, open the Input Debugger window\textquotesingle{}s {\bfseries{Remote Devices}} drop-\/down list. This list displays the remote \doxylink{class_player}{Player} instance you can connect to (if there are any). The same list appears in the Profiler and Console windows, and any connections are shared between those windows. If any \doxylink{class_player}{Player(s)} are connected, you can enable {\bfseries{Show remote devices}} in the same drop-\/down list. If Players are connected, and {\bfseries{Show remote devices}} is enabled, the \+\_\+\+\_\+\+Devices\+\_\+\+\_\+ list in the Input Debugger window splits into a {\bfseries{Local}} section and a {\bfseries{Remote}} section. The {\bfseries{Remote}} section displays any Input Device from any connected \doxylink{class_player}{Player}, and lets you inspect Device state and events in real time, as if it were a local Device.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1318}{}\doxysection{\texorpdfstring{Input visualizers}{Input visualizers}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1318}
The Input \doxylink{namespace_system}{System} package comes with a {\bfseries{Visualizers}} sample, which provides various components which let you monitor the state of various Input \doxylink{namespace_system}{System} elements in real time using on-\/screen visualizers.

To install the sample, navigate to the Input \doxylink{namespace_system}{System} package in the Package Manager window (see \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_installation}{Installation}{0}), and next to the {\bfseries{Visualizers}} sample, click {\bfseries{Import in project}}.

The sample provides two visualizer components\+:\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1319}{}\doxysubsection{\texorpdfstring{{\ttfamily Input\+Control\+Visualizer}}{{\ttfamily Input\+Control\+Visualizer}}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1319}
Visualizes the current state of a single Control in real time. You can have multiple Control visualizers to visualize the state of multiple Controls. Check the {\ttfamily Gamepad\+Visualizer}, {\ttfamily Mouse\+Visualizer}, or {\ttfamily Pen\+Visualizer} Scenes in the sample for examples.

\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1320}{}\doxysubsection{\texorpdfstring{{\ttfamily Input\+Action\+Visualizer}}{{\ttfamily Input\+Action\+Visualizer}}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1320}
Visualizes the current state of a single Action in real time. You can have multiple Action visualizers to visualize the state of multiple Actions. This can also display the current value of the Action and the Control currently driving the Action, and track the state of \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_interactions}{Interactions}{0} over time. Check the {\ttfamily Simple\+Controls\+Visualizer} Scene in the sample for examples.

\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1321}{}\doxysection{\texorpdfstring{Device Simulator}{Device Simulator}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1321}
When Device Simulator window is in use, mouse and pen inputs on the simulated device screen are turned into touchscreen inputs. Device Simulator uses its own touchscreen device, which it creates and destroys together with the Device Simulator window.

To prevent conflicts between simulated touchscreen inputs and native mouse and pen inputs, Device Simulator disables all native mouse and pen devices.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1322}{}\doxysection{\texorpdfstring{Unity Remote}{Unity Remote}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1322}
The \doxylink{namespace_unity}{Unity} Remote is an app available for i\+OS and Android which allows using a mobile device for input while running in the \doxylink{namespace_unity}{Unity} Editor. You can find details about the app and how to install it in the \href{https://docs.unity3d.com/Manual/UnityRemote5.html}{\texttt{ Unity manual}}.

If you would like to try out the \doxylink{namespace_unity}{Unity} Remote app, you can \href{Installation.md\#installing-samples}{\texttt{ install}} the "{}\+Unity Remote"{} sample that is provided with the Input \doxylink{namespace_system}{System} package.

\texorpdfstring{$>$}{>}{\bfseries{Note}}\+: Joysticks/gamepads are not yet supported over the \doxylink{namespace_unity}{Unity} Remote. No joystick/gamepad input from the mobile device will come through in the editor.

\texorpdfstring{$>$}{>}{\bfseries{Note}}\+: This requires \doxylink{namespace_unity}{Unity} 2021.\+2.\+18 or later.

When in play mode in the Editor and connected to the \doxylink{namespace_unity}{Unity} Remote app, you will see a number of Devices have been added with the \href{../api/UnityEngine.InputSystem.InputDevice.html\#UnityEngine_InputSystem_InputDevice_remote}{\texttt{ {\ttfamily Input\+Device.\+remote}}} flag set to true\+:


\begin{DoxyItemize}
\item \href{../api/UnityEngine.InputSystem.Touchscreen.html}{\texttt{ {\ttfamily Touchscreen}}}
\item \href{../api/UnityEngine.InputSystem.Accelerometer.html}{\texttt{ {\ttfamily Accelerometer}}}
\end{DoxyItemize}

If a gyro is present on the mobile device\+:


\begin{DoxyItemize}
\item \href{../api/UnityEngine.InputSystem.Gyroscope.html}{\texttt{ {\ttfamily Gyroscope}}}
\item \href{../api/UnityEngine.InputSystem.AttitudeSensor.html}{\texttt{ {\ttfamily Attitude\+Sensor}}}
\item \href{../api/UnityEngine.InputSystem.LinearAccelerationSensor.html}{\texttt{ {\ttfamily Linear\+Acceleration\+Sensor}}}
\item \href{../api/UnityEngine.InputSystem.GravitySensor.html}{\texttt{ {\ttfamily Gravity\+Sensor}}}
\end{DoxyItemize}

These Devices can be used just like local Devices. They will receive input from the connected mobile device which in turn will receive the rendered output of the game running in the editor.

The \href{../api/UnityEngine.InputSystem.Accelerometer.html}{\texttt{ {\ttfamily Accelerometer}}} device will automatically be enabled and will not need you to call \href{../api/UnityEngine.InputSystem.InputSystem.html\#UnityEngine_InputSystem_InputSystem_EnableDevice_UnityEngine_InputSystem_InputDevice_}{\texttt{ {\ttfamily Input\+System.\+Enable\+Device}}} explicitly. Setting the sampling frequency on the accelerometer from the \doxylink{namespace_unity}{Unity} Remote using \href{../api/UnityEngine.InputSystem.Sensor.html\#UnityEngine_InputSystem_Sensor_samplingFrequency}{\texttt{ {\ttfamily Sensor.\+sampling\+Frequency}}} has no effect.

The remaining sensors listed above will need to be explicitly enabled via \href{../api/UnityEngine.InputSystem.InputSystem.html\#UnityEngine_InputSystem_InputSystem_EnableDevice_UnityEngine_InputSystem_InputDevice_}{\texttt{ {\ttfamily Input\+System.\+Enable\+Device}}} just like local sensors. Setting the sampling frequency on these sensors from the \doxylink{namespace_unity}{Unity} Remote using \href{../api/UnityEngine.InputSystem.Sensor.html\#UnityEngine_InputSystem_Sensor_samplingFrequency}{\texttt{ {\ttfamily Sensor.\+sampling\+Frequency}}} will be relayed to the device but note that setting the frequency on one of them will set it for all of them.

Touch coordinates from the device will be translated to the screen coordinates of the Game View inside the Editor.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1323}{}\doxysection{\texorpdfstring{Other tips\+:}{Other tips\+:}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8inputsystem_0d1_86_83_2_documentation_0i_2_debugging_autotoc_md1323}
To record events flowing through the system, use this code\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \textcolor{comment}{//\ You\ can\ also\ provide\ a\ device\ ID\ to\ only}}
\DoxyCodeLine{\ \ \ \textcolor{comment}{//\ trace\ events\ for\ a\ specific\ device.}}
\DoxyCodeLine{\ \ \ var\ trace\ =\ \textcolor{keyword}{new}\ InputEventTrace();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ trace.Enable();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ var\ current\ =\ \textcolor{keyword}{new}\ InputEventPtr();}
\DoxyCodeLine{\ \ \ \textcolor{keywordflow}{while}\ (trace.GetNextEvent(ref\ current))}
\DoxyCodeLine{\ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ Debug.Log(\textcolor{stringliteral}{"{}Got\ some\ event:\ "{}}\ +\ current);}
\DoxyCodeLine{\ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \textcolor{comment}{//\ Also\ supports\ IEnumerable.}}
\DoxyCodeLine{\ \ \ \textcolor{keywordflow}{foreach}\ (var\ eventPtr\ \textcolor{keywordflow}{in}\ trace)}
\DoxyCodeLine{\ \ \ \ \ \ \ Debug.Log(\textcolor{stringliteral}{"{}Got\ some\ event:\ "{}}\ +\ eventPtr);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \textcolor{comment}{//\ Trace\ consumes\ unmanaged\ resources.\ Make\ sure\ you\ dispose\ it\ correctly\ to\ avoid\ memory\ leaks.}}
\DoxyCodeLine{\ \ \ trace.Dispose();}

\end{DoxyCode}


To see events as they\textquotesingle{}re processed, use this code\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ InputSystem.onEvent\ +=}
\DoxyCodeLine{\ \ \ \ \ \ \ (eventPtr,\ device)\ =>}
\DoxyCodeLine{\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Can\ handle\ events\ yourself,\ for\ example,\ and\ then\ stop\ them}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ from\ further\ processing\ by\ marking\ them\ as\ handled.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ eventPtr.handled\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \ \ \ \};}

\end{DoxyCode}
 