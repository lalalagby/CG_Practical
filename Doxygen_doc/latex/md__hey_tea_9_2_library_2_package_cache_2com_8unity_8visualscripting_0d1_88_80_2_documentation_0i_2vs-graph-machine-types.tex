\chapter{Script Machines and State Machines}
\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-machine-types}{}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-machine-types}\index{Script Machines and State Machines@{Script Machines and State Machines}}
\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-machine-types_autotoc_md5365}%
\Hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-machine-types_autotoc_md5365}%
 A Script Machine is a Game\+Object component that lets you use a Script Graph in an application. You can\textquotesingle{}t use a Script Graph unless it\textquotesingle{}s attached to a Script Machine. For more information on components, see \href{https://docs.unity3d.com/Manual/Components.html}{\texttt{ Introduction to components}} in the \doxylink{namespace_unity}{Unity} User Manual.

Script Machines can either link to a graph asset, or they can contain an embedded Script Graph asset.



A State Machine is the same as a Script Machine, except it contains a State Graph.



For more information on the difference between a Script Graph and a State Graph, see \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-types}{Graphs}{0}.

Add a Script Machine or State Machine component to a Game\+Object and Visual Scripting automatically adds a Variables component. The Variables component holds any Object variables that you define in a Script Graph or State Graph attached to the Game\+Object. For more information on variables, see \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-variables}{Variables}{0}.

For more information on how to add a Script Machine or State Machine to a Game\+Object and attach a graph file, see \doxysectlink{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-attach-graph-machine}{Attach a graph file to a Script Machine or State Machine}{0}\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-machine-types_autotoc_md5366}{}\doxysection{\texorpdfstring{Source types}{Source types}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-machine-types_autotoc_md5366}
Script Machines and State Machines have two options for their Source\+: a graph file ({\bfseries{Graph}}), or an embedded asset ({\bfseries{Embed}}).

Set the {\bfseries{Source}} for a Script Machine or State Machine at any time. If you switch the Source from {\bfseries{Graph}} to {\bfseries{Embed}}, the graph file still exists as a separate file from the State Machine or Script Machine inside of your project.

\begin{DoxyAttention}{Attention}
If you switch your Source from {\bfseries{Embed}} to {\bfseries{Graph}}, you will lose the embedded graph asset. You can copy the nodes from an embedded graph to a graph asset to avoid data loss.
\end{DoxyAttention}
Other features of Visual Scripting, such as transitions, Super States, and Subgraphs, also have these source type options.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-machine-types_autotoc_md5367}{}\doxysubsection{\texorpdfstring{The Graph source type}{The Graph source type}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-machine-types_autotoc_md5367}
Use the {\bfseries{Graph}} source type to make your graphs faster to load and easier to maintain. Any changes made to a graph file apply to every Script Machine or State Machine that links to that graph file, even if those Game\+Objects don\textquotesingle{}t use the same Prefab.

To use the same graph across multiple Game\+Objects, use a {\bfseries{Graph}} source type. You might encounter some situations where an embedded graph works best.\hypertarget{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-machine-types_autotoc_md5368}{}\doxysubsection{\texorpdfstring{The Embed source type}{The Embed source type}}\label{md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-graph-machine-types_autotoc_md5368}
An {\bfseries{Embed}} graph exists only in the scene where it\textquotesingle{}s created, if it isn\textquotesingle{}t attached to a Prefab. This can cause problems with source control systems.

If you delete a Game\+Object with an {\bfseries{Embed}} graph asset, you will lose your graph. Changes made to an embedded graph aren\textquotesingle{}t saved while the Editor is in Play mode.

Use the {\bfseries{Embed}} source type if\+:


\begin{DoxyItemize}
\item You need references to Game\+Objects from the current scene in the graph and the graph isn\textquotesingle{}t on a Prefab.
\item The graph is on a Prefab that you plan to instantiate in the application during runtime.
\item You only need to use the logic in the graph once in the application.
\end{DoxyItemize}

You can\textquotesingle{}t reuse an embedded graph across multiple Game\+Objects unless the graph is on a Prefab. An embed graph only exists on the Script Machine or State Machine where you created it. This means you can share the graph across instances of a Prefab, but not on more than one Game\+Object. For more information about Prefabs, see \href{https://docs.unity3d.com/Manual/Prefabs.html}{\texttt{ Prefabs}} in the User Manual. 