<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Installation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md5717"></a></p><ol type="1">
<li>The package is available on the <a href="https://openupm.com">openupm registry</a>. You can install it via <a href="https://github.com/openupm/openupm-cli">openupm-cli</a>. <div class="fragment"><div class="line">openupm add net.tnrd.nsubstitute</div>
</div><!-- fragment --></li>
<li>Installing through a <a href="http://package-installer.glitch.me/v1/installer/package.openupm.com/net.tnrd.nsubstitute?registry=https://package.openupm.com">Unity Package</a> created by the <a href="https://package-installer.glitch.me">Package Installer Creator</a> from <a href="https://needle.tools">Needle</a></li>
</ol>
<p><a href="http://package-installer.glitch.me/v1/installer/package.openupm.com/net.tnrd.nsubstitute?registry=https://package.openupm.com"><img src="https://img.shields.io/badge/-Download-success?style=for-the-badge" alt="" class="inline"/></a></p>
<ol type="1">
<li>Installing from git through the package manager by clicking the + icon and then selecting 'Add package from git URL...'</li>
</ol>
<p><img src="https://github.com/Thundernerd/Unity3D-NSubstitute/assets/5531467/a08a3dd9-8c65-46ba-9e31-fef578f4c6a5" alt="image" class="inline"/></p>
<p>and using the following url: <code><a href="https://github.com/Thundernerd/Unity3D-NSubstitute.git">https://github.com/Thundernerd/Unity3D-NSubstitute.git</a></code></p>
<ol type="1">
<li>Installing from git by adding the following line to your manifest.json <div class="fragment"><div class="line">&quot;net.tnrd.nsubstitute&quot;: &quot;https://github.com/Thundernerd/Unity3D-NSubstitute.git&quot;</div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="autotoc_md5718"></a>
Original readme below this line</h1>
<h1><a class="anchor" id="autotoc_md5719"></a>
NSubstitute</h1>
<p><a href="https://github.com/nsubstitute/NSubstitute/actions/workflows/build_and_test.yml"><img src="https://github.com/nsubstitute/NSubstitute/actions/workflows/build_and_test.yml/badge.svg" alt="Build status" style="pointer-events: none;" class="inline"/></a> <a href="https://www.nuget.org/packages/NSubstitute"><img src="https://img.shields.io/nuget/v/NSubstitute.svg" alt="Nuget" style="pointer-events: none;" class="inline"/></a></p>
<p>Visit the <a href="https://nsubstitute.github.io">NSubstitute website</a> for more information.</p>
<h3><a class="anchor" id="autotoc_md5720"></a>
What is it?</h3>
<p><a class="el" href="namespace_n_substitute.html">NSubstitute</a> is designed as a friendly substitute for .NET mocking libraries.</p>
<p>It is an attempt to satisfy our craving for a mocking library with a succinct syntax that helps us keep the focus on the intention of our tests, rather than on the configuration of our test doubles. We've tried to make the most frequently required operations obvious and easy to use, keeping less usual scenarios discoverable and accessible, and all the while maintaining as much natural language as possible.</p>
<p>Perfect for those new to testing, and for others who would just like to to get their tests written with less noise and fewer lambdas.</p>
<h3><a class="anchor" id="autotoc_md5721"></a>
Installation</h3>
<ul>
<li><a href="https://nuget.org/List/Packages/NSubstitute">NSubstitute package</a></li>
<li>Optional Roslyn analysers (recommended):<ul>
<li>For C# projects: <a href="https://www.nuget.org/packages/NSubstitute.Analyzers.CSharp/">NSubstitute.Analyzers.CSharp</a></li>
<li>For VB projects: <a href="https://www.nuget.org/packages/NSubstitute.Analyzers.VisualBasic/">NSubstitute.Analyzers.VisualBasic</a></li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md5722"></a>
Getting help</h3>
<p>If you have questions, feature requests or feedback on <a class="el" href="namespace_n_substitute.html">NSubstitute</a> please <a href="https://github.com/nsubstitute/NSubstitute/issues">raise an issue</a> on our project site. All questions are welcome via our project site, but for "how-to"-style questions you can also try <a href="https://stackoverflow.com/tags/nsubstitute">StackOverflow with the [nsubstitute] tag</a>, which often leads to very good answers from the larger programming community. StackOverflow is especially useful if your question also relates to other libraries that our team may not be as familiar with (e.g. <a class="el" href="namespace_n_substitute.html">NSubstitute</a> with Entity Framework). You can also head on over to the <a href="https://groups.google.com/group/nsubstitute">NSubstitute discussion group</a> if you prefer.</p>
<h3><a class="anchor" id="autotoc_md5723"></a>
Basic use</h3>
<p>Let's say we have a basic calculator interface:</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">interface </span>ICalculator</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> Add(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b);</div>
<div class="line">    <span class="keywordtype">string</span> Mode { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line">    <span class="keyword">event</span> Action PoweringUp;</div>
<div class="line">}</div>
</div><!-- fragment --><p>We can ask <a class="el" href="namespace_n_substitute.html">NSubstitute</a> to create a substitute instance for this type. We could ask for a stub, mock, fake, spy, test double etc., but why bother when we just want to substitute an instance we have some control over?</p>
<div class="fragment"><div class="line">_calculator = Substitute.For&lt;ICalculator&gt;();</div>
</div><!-- fragment --><p>⚠️ <b>Note</b>: <a class="el" href="namespace_n_substitute.html">NSubstitute</a> will only work properly with interfaces or with <code>virtual</code> members of classes. Be careful substituting for classes with non-virtual members. See <a href="https://nsubstitute.github.io/help/creating-a-substitute/#substituting_infrequently_and_carefully_for_classes">Creating a substitute</a> for more information.</p>
<p>Now we can tell our substitute to return a value for a call:</p>
<div class="fragment"><div class="line">_calculator.Add(1, 2).Returns(3);</div>
<div class="line">Assert.That(_calculator.Add(1, 2), Is.EqualTo(3));</div>
</div><!-- fragment --><p>We can check that our substitute received a call, and did not receive others:</p>
<div class="fragment"><div class="line">_calculator.Add(1, 2);</div>
<div class="line">_calculator.Received().Add(1, 2);</div>
<div class="line">_calculator.DidNotReceive().Add(5, 7);</div>
</div><!-- fragment --><p>If our Received() assertion fails, <a class="el" href="namespace_n_substitute.html">NSubstitute</a> tries to give us some help as to what the problem might be:</p>
<pre class="fragment">NSubstitute.Exceptions.ReceivedCallsException : Expected to receive a call matching:
    Add(1, 2)
Actually received no matching calls.
Received 2 non-matching calls (non-matching arguments indicated with '*' characters):
    Add(1, *5*)
    Add(*4*, *7*)
</pre><p> We can also work with properties using the Returns syntax we use for methods, or just stick with plain old property setters (for read/write properties):</p>
<div class="fragment"><div class="line">_calculator.Mode.Returns(<span class="stringliteral">&quot;DEC&quot;</span>);</div>
<div class="line">Assert.That(_calculator.Mode, Is.EqualTo(<span class="stringliteral">&quot;DEC&quot;</span>));</div>
<div class="line"> </div>
<div class="line">_calculator.Mode = <span class="stringliteral">&quot;HEX&quot;</span>;</div>
<div class="line">Assert.That(_calculator.Mode, Is.EqualTo(<span class="stringliteral">&quot;HEX&quot;</span>));</div>
</div><!-- fragment --><p><a class="el" href="namespace_n_substitute.html">NSubstitute</a> supports argument matching for setting return values and asserting a call was received:</p>
<div class="fragment"><div class="line">_calculator.Add(10, -5);</div>
<div class="line">_calculator.Received().Add(10, Arg.Any&lt;<span class="keywordtype">int</span>&gt;());</div>
<div class="line">_calculator.Received().Add(10, Arg.Is&lt;<span class="keywordtype">int</span>&gt;(x =&gt; x &lt; 0));</div>
</div><!-- fragment --><p>We can use argument matching as well as passing a function to Returns() to get some more behaviour out of our substitute (possibly too much, but that's your call):</p>
<div class="fragment"><div class="line">_calculator</div>
<div class="line">   .Add(Arg.Any&lt;<span class="keywordtype">int</span>&gt;(), Arg.Any&lt;<span class="keywordtype">int</span>&gt;())</div>
<div class="line">   .Returns(x =&gt; (<span class="keywordtype">int</span>)x[0] + (<span class="keywordtype">int</span>)x[1]);</div>
<div class="line">Assert.That(_calculator.Add(5, 10), Is.EqualTo(15));</div>
</div><!-- fragment --><p>Returns() can also be called with multiple arguments to set up a sequence of return values.</p>
<div class="fragment"><div class="line">_calculator.Mode.Returns(<span class="stringliteral">&quot;HEX&quot;</span>, <span class="stringliteral">&quot;DEC&quot;</span>, <span class="stringliteral">&quot;BIN&quot;</span>);</div>
<div class="line">Assert.That(_calculator.Mode, Is.EqualTo(<span class="stringliteral">&quot;HEX&quot;</span>));</div>
<div class="line">Assert.That(_calculator.Mode, Is.EqualTo(<span class="stringliteral">&quot;DEC&quot;</span>));</div>
<div class="line">Assert.That(_calculator.Mode, Is.EqualTo(<span class="stringliteral">&quot;BIN&quot;</span>));</div>
</div><!-- fragment --><p>Finally, we can raise events on our substitutes (unfortunately C# dramatically restricts the extent to which this syntax can be cleaned up):</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> eventWasRaised = <span class="keyword">false</span>;</div>
<div class="line">_calculator.PoweringUp += () =&gt; eventWasRaised = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">_calculator.PoweringUp += Raise.Event&lt;Action&gt;();</div>
<div class="line">Assert.That(eventWasRaised);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5724"></a>
Building</h3>
<p><a class="el" href="namespace_n_substitute.html">NSubstitute</a> and its tests can be compiled and run using Visual Studio and Visual Studio for Mac. Note that some tests are marked <code>[Pending]</code> and are not meant to pass at present, so it is a good idea to exclude tests in the Pending category from test runs.</p>
<p>There are also build scripts in the <code>./build</code> directory for command line builds, and CI configurations in the project root.</p>
<p>To do <a href="https://github.com/nsubstitute/NSubstitute/wiki/Release-procedure">full builds</a> you'll also need Ruby, as the jekyll gem is used to generate the website.</p>
<h3><a class="anchor" id="autotoc_md5725"></a>
Other libraries you may be interested in</h3>
<ul>
<li><a href="https://github.com/Moq/moq4/wiki/Quickstart">Moq</a>: the original Arrange-Act-Assert mocking library for .NET, and a big source of inspiration for <a class="el" href="namespace_n_substitute.html">NSubstitute</a>.</li>
<li><a href="https://fakeiteasy.github.io/">FakeItEasy</a>: another modern mocking library for .NET. If you're not sold on <a class="el" href="namespace_n_substitute.html">NSubstitute</a>'s syntax, try FIE!</li>
<li><a href="https://github.com/ffMathy/FluffySpoon.JavaScript.Testing">substitute.js</a>: a mocking library for TypeScript inspired by <a class="el" href="namespace_n_substitute.html">NSubstitute</a>'s syntax (<code>@fluffy-spoon/substitute</code> on NPM) </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
