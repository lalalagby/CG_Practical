<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Filtering impulses</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Filtering impulses</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md688"></a> Filtering lets you fine-tune how and when an Impulse Source generates impulses. <a class="el" href="namespace_cinemachine.html">Cinemachine</a> Impulse allows two types of filtering:</p>
<ul>
<li>Use channel filtering to set things up so that an Impulse Listener reacts to certain Impulse Sources and ignores others. See <a class="el" href="#ChannelFiltering">Filtering with channels</a> below for details.</li>
<li>Use Trigger Object Filtering with Collision Impulse Sources to set things up so that only certain GameObjects trigger an impulse. See <a class="el" href="#TriggerObjectFiltering">Filtering with layers and tags</a> for details.</li>
</ul>
<p><a class="anchor" id="ChannelFiltering"></a> </p>
<h1><a class="anchor" id="autotoc_md689"></a>
Filtering with channels</h1>
<p>By default, every Impulse Listener reacts to every Impulse Source within range. Channels allow you to more precisely control which Impulse Sources an Impulse Listener reacts to. To set up channel filtering, you need to do three things:</p>
<ul>
<li>Set up your channels</li>
<li>Set your Impulse Sources to broadcast on one or more channels</li>
<li>Set your Impulse Listeners to listen to one or more channels</li>
</ul>
<p>When an Impulse Listener is listening to specific channels, it only reacts to Impulse Sources that broadcast on those channels.</p>
<h2><a class="anchor" id="autotoc_md690"></a>
Adding channels</h2>
<p>The <b>CinemachineImpulseChannels</b> script creates channels in your Scene. It has one channel by default, and you can add as many new channels as you need, up to a maximum of 31.</p>
<p>To add new channels:</p>
<ol type="1">
<li>Inspect the <b>CinemachineImpulseChannels</b> (<b>Impulse Channel &gt; Edit</b>) script by doing one of the following:<ul>
<li>In the <a class="el" href="namespace_cinemachine.html">Cinemachine</a> Impulse Listener inspector, navigate to the <b>Channel Mask</b> drop-down and click the <b>Edit</b> button next to it.</li>
<li>In the <a class="el" href="namespace_cinemachine.html">Cinemachine</a> Impulse Source or <a class="el" href="namespace_cinemachine.html">Cinemachine</a> Collision Impulse Source inspector, navigate to the <b>Impulse Channel</b> drop-down and click the <b>Edit</b> button next to it.</li>
</ul>
</li>
<li>Expand the <b>Impulse Channels</b> property group and set the <b>Size</b> property to the number of channels you want. A new entry appears for each channel.</li>
<li><p class="startli">Rename your new channels.</p>
<p class="startli"><img src="images/InspectorImpulseChannelsScript.png" alt="" class="inline"/></p>
<p class="startli">Channels are available from the channel drop-down in the Inspector as soon as you add them.</p>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md691"></a>
Setting listen / broadcast channels</h2>
<p>After setting up your channels, you need to define how your Impulse Listeners and Impulse Sources use them.</p>
<ul>
<li><p class="startli">Inspect each Impulse Listener, and choose the channels you want it to listen to from the <b>Channel Mask</b> drop-down.</p>
<p class="startli"><img src="images/InspectorImpulseListenerChannelsMenu.png" alt="" class="inline"/></p>
</li>
<li><p class="startli">Inspect each Impulse Source or Collision Impulse Source, and choose the channels you want it to broadcast on from the <b>Impulse Channel</b> drop-down.</p>
<p class="startli"><img src="images/InspectorImpulseSourceChannelsMenu.png" alt="" class="inline"/></p>
<p class="startli">You can select multiple filters from the drop down. You can also choose <b>Everything</b> to use all filters, or <b>Nothing</b> to use none of them.</p>
</li>
</ul>
<p><a class="anchor" id="TriggerObjectFiltering"></a> </p>
<h1><a class="anchor" id="autotoc_md692"></a>
Filtering with layers and tags</h1>
<p>You can use Unity’s <a href="https://docs.unity3d.com/Manual/Layers.html">Layers</a> and <a href="https://docs.unity3d.com/Manual/Tags.html">Tags</a> to specify which GameObjects trigger an impulse when they collide with a Collision Impulse Source, or enter a trigger zone. This is called <b>Trigger Object Filtering</b>.</p>
<p>The <a class="el" href="namespace_cinemachine.html">Cinemachine</a> Collision Impulse Source component has two <b>Trigger Object Filter</b> properties:</p>
<ul>
<li>The <b>Layer Mask</b> drop-down lists all of the Scene’s layers. When you select one or more layers, GameObjects in those layers trigger impulses when they collide with the Impulse Source. The Impulse Source ignores collisions with GameObjects on other layers.</li>
<li>The <b>Ignore Tag</b> drop-down lists all of the Scene’s tags. When you select a tag, GameObjects with that tag do not trigger impulses when they collide with the Impulse Source, even if they are in a layer specified in Layer Mask.</li>
</ul>
<p>For example, in a Scene where a large animal is lumbering through a forest, you might want the camera to shake when it collides with large trees, but not small saplings.</p>
<p>One way to set that up would be to make the animal a Collision Impulse Source, put all of the large trees on their own layer, and select that as the Layer Mask.</p>
<p>If all of the trees, large ones and saplings alike, are already on the same layer, you could assign a special tag to the saplings, and use the <b>Ignore Tag</b> property to filter them out. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
