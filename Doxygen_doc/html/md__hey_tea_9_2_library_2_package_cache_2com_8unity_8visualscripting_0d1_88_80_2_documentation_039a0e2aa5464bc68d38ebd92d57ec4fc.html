<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Create a Custom Scripting Event Sender node</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Create a Custom Scripting Event Sender node</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md5286"></a> </p><dl class="section note"><dt>Note</dt><dd>Before you create a Custom Scripting Event Sender node, you must create a Custom Scripting Event node. [!include<a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_033a8ef149dfa2b3576e594bdca14540a.html">tasks-note-end</a>].</dd></dl>
<p>After you create a Custom Scripting Event node, you can create a Custom Scripting Event Sender node to trigger the Event from any other Script Graph in the same scene, or the same Script Graph.</p>
<p>You can also choose to create a separate script to trigger the Event from code. For more information, see <a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0368ddcbea1327dec736ce355f1d76c90.html">Trigger a Custom Scripting Event from a C# script</a>.</p>
<h1><a class="anchor" id="autotoc_md5287"></a>
Create a node and add it to the fuzzy finder</h1>
<p>To create a Custom Scripting Event Sender node and add it to the fuzzy finder:</p>
<ol type="1">
<li>[!include<a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_02d03661124e0bd86dfb18db85fc8ceba.html">open-project-window</a>]</li>
</ol>
<ol type="1">
<li>[!include<a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_08e34a592cc0e8541615db3733ae88b57.html">right-click-project</a>]</li>
</ol>
<ol type="1">
<li>[!include<a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_059d97be577f9030fa0ef5eb469c8b969.html">create-c-script-project</a>]</li>
</ol>
<ol type="1">
<li>Enter a name, such as <code>SendMyEventNode</code>, for the new script file.</li>
</ol>
<ol type="1">
<li>Press Enter.</li>
</ol>
<ol type="1">
<li>[!include<a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_09d38870b1cab13c8e6231c5db868b782.html">open-new-external-code</a>]</li>
</ol>
<ol type="1">
<li><p class="startli">In your external editor, copy and paste the following code into the C# script:</p>
<div class="fragment"><div class="line"> <span class="keyword">using </span><a class="code hl_namespace" href="namespace_unity_1_1_visual_scripting.html">Unity.VisualScripting</a>;</div>
<div class="line"> <span class="keyword">using </span><a class="code hl_namespace" href="namespace_unity_engine.html">UnityEngine</a>;</div>
<div class="line"> </div>
<div class="line"> <span class="comment">//Custom node to send the Event</span></div>
<div class="line">[UnitTitle(<span class="stringliteral">&quot;Send My Custom Event&quot;</span>)]</div>
<div class="line">[<a class="code hl_class" href="class_unity_1_1_visual_scripting_1_1_unit_category.html">UnitCategory</a>(<span class="stringliteral">&quot;Events\\MyEvents&quot;</span>)]<span class="comment">//Setting the path to find the node in the fuzzy finder as Events &gt; My Events.</span></div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SendMyEvent : <a class="code hl_class" href="class_unity_1_1_visual_scripting_1_1_unit.html">Unit</a></div>
<div class="line">{</div>
<div class="line">   [DoNotSerialize]<span class="comment">// Mandatory attribute, to make sure we donâ€™t serialize data that should never be serialized.</span></div>
<div class="line">   [PortLabelHidden]<span class="comment">// Hide the port label, as we normally hide the label for default Input and Output triggers.</span></div>
<div class="line">   <span class="keyword">public</span> <a class="code hl_class" href="class_unity_1_1_visual_scripting_1_1_control_input.html">ControlInput</a> inputTrigger { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div>
<div class="line">   [DoNotSerialize]</div>
<div class="line">   <span class="keyword">public</span> <a class="code hl_class" href="class_unity_1_1_visual_scripting_1_1_value_input.html">ValueInput</a> myValue;</div>
<div class="line">   [DoNotSerialize]</div>
<div class="line">   [PortLabelHidden]<span class="comment">// Hide the port label, as we normally hide the label for default Input and Output triggers.</span></div>
<div class="line">   <span class="keyword">public</span> <a class="code hl_class" href="class_unity_1_1_visual_scripting_1_1_control_output.html">ControlOutput</a> outputTrigger { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div>
<div class="line"> </div>
<div class="line">   <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> Definition()</div>
<div class="line">   {</div>
<div class="line"> </div>
<div class="line">       inputTrigger = <a class="code hl_class" href="class_unity_1_1_visual_scripting_1_1_control_input.html">ControlInput</a>(nameof(inputTrigger), Trigger);</div>
<div class="line">       myValue = <a class="code hl_class" href="class_unity_1_1_visual_scripting_1_1_value_input.html">ValueInput&lt;int&gt;</a>(nameof(myValue),1);</div>
<div class="line">       outputTrigger = <a class="code hl_class" href="class_unity_1_1_visual_scripting_1_1_control_output.html">ControlOutput</a>(nameof(outputTrigger));</div>
<div class="line">       Succession(inputTrigger, outputTrigger);</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   <span class="comment">//Send the Event MyCustomEvent with the integer value from the ValueInput port myValueA.</span></div>
<div class="line">   <span class="keyword">private</span> <a class="code hl_class" href="class_unity_1_1_visual_scripting_1_1_control_output.html">ControlOutput</a> Trigger(<a class="code hl_class" href="class_unity_1_1_visual_scripting_1_1_flow.html">Flow</a> flow)</div>
<div class="line">   {</div>
<div class="line">       EventBus.Trigger(EventNames.MyCustomEvent, flow.GetValue&lt;<span class="keywordtype">int</span>&gt;(myValue));</div>
<div class="line">       <span class="keywordflow">return</span> outputTrigger;</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_unity_1_1_visual_scripting_1_1_control_input_html"><div class="ttname"><a href="class_unity_1_1_visual_scripting_1_1_control_input.html">Unity.VisualScripting.ControlInput</a></div><div class="ttdef"><b>Definition</b> ControlInput.cs:9</div></div>
<div class="ttc" id="aclass_unity_1_1_visual_scripting_1_1_control_output_html"><div class="ttname"><a href="class_unity_1_1_visual_scripting_1_1_control_output.html">Unity.VisualScripting.ControlOutput</a></div><div class="ttdef"><b>Definition</b> ControlOutput.cs:8</div></div>
<div class="ttc" id="aclass_unity_1_1_visual_scripting_1_1_flow_html"><div class="ttname"><a href="class_unity_1_1_visual_scripting_1_1_flow.html">Unity.VisualScripting.Flow</a></div><div class="ttdef"><b>Definition</b> Flow.cs:10</div></div>
<div class="ttc" id="aclass_unity_1_1_visual_scripting_1_1_unit_category_html"><div class="ttname"><a href="class_unity_1_1_visual_scripting_1_1_unit_category.html">Unity.VisualScripting.UnitCategory</a></div><div class="ttdef"><b>Definition</b> UnitCategory.cs:10</div></div>
<div class="ttc" id="aclass_unity_1_1_visual_scripting_1_1_unit_html"><div class="ttname"><a href="class_unity_1_1_visual_scripting_1_1_unit.html">Unity.VisualScripting.Unit</a></div><div class="ttdef"><b>Definition</b> Unit.cs:11</div></div>
<div class="ttc" id="aclass_unity_1_1_visual_scripting_1_1_value_input_html"><div class="ttname"><a href="class_unity_1_1_visual_scripting_1_1_value_input.html">Unity.VisualScripting.ValueInput</a></div><div class="ttdef"><b>Definition</b> ValueInput.cs:10</div></div>
<div class="ttc" id="anamespace_unity_1_1_visual_scripting_html"><div class="ttname"><a href="namespace_unity_1_1_visual_scripting.html">Unity.VisualScripting</a></div><div class="ttdef"><b>Definition</b> EditorPreferencesProvider.cs:4</div></div>
<div class="ttc" id="anamespace_unity_engine_html"><div class="ttname"><a href="namespace_unity_engine.html">UnityEngine</a></div><div class="ttdef"><b>Definition</b> IGL.cs:2</div></div>
</div><!-- fragment --></li>
</ol>
<ol type="1">
<li>[!include<a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2snippets_2vs-save-script.html">save-script</a>]</li>
</ol>
<ol type="1">
<li>[!include<a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2snippets_2vs-return-unity.html">return-unity</a>]</li>
</ol>
<ol type="1">
<li>[!include<a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_025c361676c0bf0aee90afedf32d5b844.html">regen-node-library</a>]</li>
</ol>
<p>After you regenerate your Node Library, the Custom Scripting Event Sender node appears in the fuzzy finder. If you didn't change the <code>[UnitCategory]</code> or <code>[UnitTitle]</code> from the sample code, then the fuzzy finder displays the node under <b>Events</b> &gt; <b>MyEvents</b>, as the <b>Send My Custom Event</b> node. For more information on the fuzzy finder, see <a href="vs-interface-overview.md#the-fuzzy-finder">The interface</a>.</p>
<h1><a class="anchor" id="autotoc_md5288"></a>
Trigger your Custom Scripting Event node</h1>
<p>You might use your <b>Send My Custom Event</b> node to trigger your Event based on keyboard input:</p>
<ol type="1">
<li><a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0i_2vs-open-graph-edit.html">Open a Script Graph</a> where you want to add the new node. This can be the same or a different Script Graph from the one that contains your Custom Scripting Event node.</li>
<li>[!include<a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0e129af79c68762283d74b648822ac987.html">open-fuzzy-finder</a>].</li>
</ol>
<ol type="1">
<li>Go to <b>Events</b> &gt; <b>Input</b>.</li>
</ol>
<ol type="1">
<li>Select the <b>On Keyboard Input</b> node to add it to the graph.</li>
<li>Right-click again in the Graph Editor to open the fuzzy finder.</li>
</ol>
<ol type="1">
<li>Go to <b>Events</b> &gt; <b>My Events</b>.</li>
</ol>
<ol type="1">
<li>Select your <b>Send My Custom Event</b> node to add it to the graph.</li>
<li><p class="startli">Connect the <b>On Keyboard Input</b> node's Trigger output port to the <b>Send My Custom Event</b> node's Input Trigger input port, as shown in the following image.</p>
<p class="startli"><img src="images/vs-custom-event-send-my-custom-event-node-keyboard.png" alt="An image of the Graph Editor. An On Keyboard Input node with its Key set to Space and its Action set to Up connects to the Send My Custom Event node." class="inline"/></p>
</li>
<li>Select <b>Play</b> from <a href="https://docs.unity3d.com/Manual/Toolbar.html">the Unity Editor's Toolbar</a> to enter Play mode.</li>
</ol>
<ol type="1">
<li>Press and release the Spacebar in the <a href="https://docs.unity3d.com/Manual/GameView.html">Game view</a>.</li>
</ol>
<p>The Custom Scripting Event Sender node triggers the Custom Scripting Event in your graph and sends the Event the value from <b>My Value A</b>.</p>
<h1><a class="anchor" id="autotoc_md5289"></a>
Next steps</h1>
<p>After you create a Custom Scripting Event Sender node, you can <a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_0368ddcbea1327dec736ce355f1d76c90.html">create a script to trigger your Event from code</a> or <a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8visualscripting_0d1_88_80_2_documentation_05ae8897d6ebd57729a6428a0e93cf56a.html">create a script to listen to your Event</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
