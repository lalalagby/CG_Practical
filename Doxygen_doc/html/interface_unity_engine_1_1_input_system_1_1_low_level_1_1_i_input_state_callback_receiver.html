<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_unity_engine.html">UnityEngine</a></li><li class="navelem"><a class="el" href="namespace_unity_engine_1_1_input_system.html">InputSystem</a></li><li class="navelem"><a class="el" href="namespace_unity_engine_1_1_input_system_1_1_low_level.html">LowLevel</a></li><li class="navelem"><a class="el" href="interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver.html">IInputStateCallbackReceiver</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver Interface Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Interface for devices that implement their own state update handling.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_callback_receiver.png" usemap="#UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver_map" alt=""/>
  <map id="UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver_map" name="UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver_map">
<area href="class_unity_engine_1_1_input_system_1_1_mouse.html" title="An input device representing a mouse." alt="UnityEngine.InputSystem.Mouse" shape="rect" coords="0,56,370,80"/>
<area href="class_unity_engine_1_1_input_system_1_1_pointer.html" title="Base class for pointer-style devices moving on a 2D screen." alt="UnityEngine.InputSystem.Pointer" shape="rect" coords="380,56,750,80"/>
<area href="class_unity_engine_1_1_input_system_1_1_touchscreen.html" title="A multi-touch surface." alt="UnityEngine.InputSystem.Touchscreen" shape="rect" coords="760,56,1130,80"/>
<area href="class_unity_engine_1_1_input_system_1_1_mouse.html" title="An input device representing a mouse." alt="UnityEngine.InputSystem.Mouse" shape="rect" coords="0,112,370,136"/>
<area href="class_unity_engine_1_1_input_system_1_1_pen.html" title="Represents a pen/stylus input device." alt="UnityEngine.InputSystem.Pen" shape="rect" coords="380,112,750,136"/>
<area href="class_unity_engine_1_1_input_system_1_1_touchscreen.html" title="A multi-touch surface." alt="UnityEngine.InputSystem.Touchscreen" shape="rect" coords="760,112,1130,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adce9d48e2f0993385b8b2384cb4ad43b" id="r_adce9d48e2f0993385b8b2384cb4ad43b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adce9d48e2f0993385b8b2384cb4ad43b">OnNextUpdate</a> ()</td></tr>
<tr class="memdesc:adce9d48e2f0993385b8b2384cb4ad43b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A new input update begins. This means that the current state of the device is being carried over into the next frame.  <br /></td></tr>
<tr class="separator:adce9d48e2f0993385b8b2384cb4ad43b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559e92564d67323e1b743c0f9beb1bd1" id="r_a559e92564d67323e1b743c0f9beb1bd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a559e92564d67323e1b743c0f9beb1bd1">OnStateEvent</a> (<a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_input_event_ptr.html">InputEventPtr</a> eventPtr)</td></tr>
<tr class="memdesc:a559e92564d67323e1b743c0f9beb1bd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A new state event has been received and is being processed.  <br /></td></tr>
<tr class="separator:a559e92564d67323e1b743c0f9beb1bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957689f29167906ffe3535040f00710c" id="r_a957689f29167906ffe3535040f00710c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a957689f29167906ffe3535040f00710c">GetStateOffsetForEvent</a> (<a class="el" href="class_unity_engine_1_1_input_system_1_1_input_control.html">InputControl</a> control, <a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_input_event_ptr.html">InputEventPtr</a> eventPtr, ref uint offset)</td></tr>
<tr class="memdesc:a957689f29167906ffe3535040f00710c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute an offset that correlates <em>control</em>  with the state in <em>eventPtr</em> .  <br /></td></tr>
<tr class="separator:a957689f29167906ffe3535040f00710c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface for devices that implement their own state update handling. </p>
<p>The input system has built-in logic to automatically handle the state buffers that store input values for devices. This means that if an input event containing input state is processed, its data will be copied automatically into the state memory for the device.</p>
<p>However, some devices need to apply custom logic whenever new input is received. An example of this is <a class="el" href="class_unity_engine_1_1_input_system_1_1_pointer.html#a9bc9a66dcf6b4d35ee95d09870c73c4b" title="The current window-space motion delta of the pointer.">Pointer.delta</a> which needs to accumulate deltas as they are received within a frame and then reset the delta at the beginning of a new frame.</p>
<p>Also, devices like <a class="el" href="class_unity_engine_1_1_input_system_1_1_touchscreen.html" title="A multi-touch surface.">Touchscreen</a> extensively customize event handling in order to implement features such as tap detection and primary touch handling. This is what allows the device to receive state events in <a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_touch_state.html" title="State layout for a single touch.">TouchState</a> format even though that is not the format of the device itself (which is mainly a composite of several TouchStates).</p>
<p>This interface allows to bypass the built-in logic and instead intercept and manually handle state updates. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_unity_engine_1_1_input_system_1_1_input_device.html" title="Represents an input device which is always the root of a hierarchy of InputControl instances.">InputDevice</a>, <a class="el" href="class_unity_engine_1_1_input_system_1_1_pointer.html" title="Base class for pointer-style devices moving on a 2D screen.">Pointer</a>, <a class="el" href="class_unity_engine_1_1_input_system_1_1_touchscreen.html" title="A multi-touch surface.">Touchscreen</a></dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a957689f29167906ffe3535040f00710c" name="a957689f29167906ffe3535040f00710c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957689f29167906ffe3535040f00710c">&#9670;&#160;</a></span>GetStateOffsetForEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver.GetStateOffsetForEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_unity_engine_1_1_input_system_1_1_input_control.html">InputControl</a></td>          <td class="paramname"><span class="paramname"><em>control</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_input_event_ptr.html">InputEventPtr</a></td>          <td class="paramname"><span class="paramname"><em>eventPtr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ref uint</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute an offset that correlates <em>control</em>  with the state in <em>eventPtr</em> . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control the state of which we want to access within <em>eventPtr</em> .</td></tr>
    <tr><td class="paramname">eventPtr</td><td>An input event. Must be a <a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_state_event.html" title="A complete state snapshot for an entire input device.">StateEvent</a> or <a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_delta_state_event.html" title="Partial state update for an input device.">DeltaStateEvent</a></td></tr>
    <tr><td class="paramname">offset</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>False if the correlation failed or true if <em>offset</em>  has been set and should be used as the offset for the state of <em>control</em> .</dd></dl>
<p>This method will only be called if the given state event has a state format different than that of the device. In that case, the memory of the input state captured in the given state event cannot be trivially correlated with the control.</p>
<p>The input system calls the method to know which offset (if any) in the device's state block to consider the state in <em>eventPtr</em>  relative to when accessing the state for <em>control</em>  as found in the event.</p>
<p>An example of when this is called is for touch events. These are normally sent in <a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_touch_state.html" title="State layout for a single touch.">TouchState</a> format which, however, is not the state format of <a class="el" href="class_unity_engine_1_1_input_system_1_1_touchscreen.html" title="A multi-touch surface.">Touchscreen</a> (which uses a composite of several TouchStates). When trying to access the state in <em>eventPtr</em>  to, for example, read out the touch position, </p>
<dl class="section see"><dt>See also</dt><dd>InputControlExtensions.GetStatePtrFromStateEvent</dd></dl>

</div>
</div>
<a id="adce9d48e2f0993385b8b2384cb4ad43b" name="adce9d48e2f0993385b8b2384cb4ad43b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adce9d48e2f0993385b8b2384cb4ad43b">&#9670;&#160;</a></span>OnNextUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver.OnNextUpdate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A new input update begins. This means that the current state of the device is being carried over into the next frame. </p>
<p>This is called without the front and back buffer for the device having been flipped. You can use InputState.Change to write values into the device's state (e.g. to reset a given control to its default state) which will implicitly perform the buffer flip. </p>

<p>Implemented in <a class="el" href="class_unity_engine_1_1_input_system_1_1_mouse.html#a46a5b8e7e38d46b2b317292c49a61755">UnityEngine.InputSystem.Mouse</a>, <a class="el" href="class_unity_engine_1_1_input_system_1_1_pointer.html#ad094347ca32340201c61f8495a0cf007">UnityEngine.InputSystem.Pointer</a>, and <a class="el" href="class_unity_engine_1_1_input_system_1_1_touchscreen.html#aab0a4d29d2a76b6ff3c7083d018c9563">UnityEngine.InputSystem.Touchscreen</a>.</p>

</div>
</div>
<a id="a559e92564d67323e1b743c0f9beb1bd1" name="a559e92564d67323e1b743c0f9beb1bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a559e92564d67323e1b743c0f9beb1bd1">&#9670;&#160;</a></span>OnStateEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UnityEngine.InputSystem.LowLevel.IInputStateCallbackReceiver.OnStateEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_input_event_ptr.html">InputEventPtr</a></td>          <td class="paramname"><span class="paramname"><em>eventPtr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A new state event has been received and is being processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventPtr</td><td>The state event. This will be either a <a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_state_event.html" title="A complete state snapshot for an entire input device.">StateEvent</a> or a <a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_delta_state_event.html" title="Partial state update for an input device.">DeltaStateEvent</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>Use InputState.Change to write state updates into the device state buffers. While nothing will prevent a device from writing directly into the memory buffers retrieved with InputControl.currentStatePtr, doing so will bypass the buffer flipping logic as well as change detection from change monitors (<a class="el" href="interface_unity_engine_1_1_input_system_1_1_low_level_1_1_i_input_state_change_monitor.html" title="Interface used to monitor input state changes.">IInputStateChangeMonitor</a>; this will cause <a class="el" href="class_unity_engine_1_1_input_system_1_1_input_action.html" title="A named input signal that can flexibly decide which input data to tap.">InputAction</a> to not work with the device) and thus lead to incorrect behavior. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_state_event.html" title="A complete state snapshot for an entire input device.">StateEvent</a>, <a class="el" href="struct_unity_engine_1_1_input_system_1_1_low_level_1_1_delta_state_event.html" title="Partial state update for an input device.">DeltaStateEvent</a></dd></dl>

<p>Implemented in <a class="el" href="class_unity_engine_1_1_input_system_1_1_mouse.html#a5a0b9033b629993e26940b4f9eeee2a0">UnityEngine.InputSystem.Mouse</a>, <a class="el" href="class_unity_engine_1_1_input_system_1_1_pointer.html#a11e0abe9b00357720b2bcbbe343a8138">UnityEngine.InputSystem.Pointer</a>, and <a class="el" href="class_unity_engine_1_1_input_system_1_1_touchscreen.html#ad36be0b17bdfc380ed9710ae99a64fce">UnityEngine.InputSystem.Touchscreen</a>.</p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>HeyTea!/Library/PackageCache/com.unity.inputsystem@1.6.3/InputSystem/State/<b>IInputStateCallbackReceiver.cs</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
