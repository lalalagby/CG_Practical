<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Camera Stacking</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Camera Stacking</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md2080"></a>In the Universal Render Pipeline (URP), you use Camera Stacking to layer the output of multiple Cameras and create a single combined output. Camera Stacking allows you to create effects such as a 3D model in a 2D UI, or the cockpit of a vehicle.</p>
<p><img src="Images/camera-stacking-example.png" alt="Camera Stacking in URP" class="inline"/></p>
<p>A Camera Stack consists of a <a href="camera-types-and-render-type.md#base-camera">Base Camera</a> and one or more <a href="camera-types-and-render-type.md#overlay-camera">Overlay Cameras</a>. A Camera Stack overrides the output of the Base Camera with the combined output of all the Cameras in the Camera Stack. As such, anything that you can do with the output of a Base Camera, you can do with the output of a Camera Stack. For example, you can render a Camera Stack to a given render target, apply post-process effects, and so on.</p>
<p>URP performs several optimizations within a Camera, including rendering order optimizations to reduce overdraw. However, when you use a Camera Stack, you effectively define the order in which those Cameras are rendered. You must therefore be careful not to order the Cameras in a way that causes excessive overdraw. For more information on overdraw in URP, see <a class="el" href="md__hey_tea_9_2_library_2_package_cache_2com_8unity_8render-pipelines_8universal_0d14_80_88_2_do624362eba0d84f67f05d1918f83d229f.html">Advanced information</a>.</p>
<p>For examples of how to use Camera Stacking, see the <a href="package-sample-urp-package-samples.md#camera-stacking">Camera Stacking samples in URP Package Samples</a>.</p>
<p><a class="anchor" id="adding-a-camera-to-a-camera-stack"></a> </p>
<h1><a class="anchor" id="autotoc_md2081"></a>
Adding a Camera to a Camera Stack</h1>
<p><img src="Images/camera-stack-add-camera.png" alt="Adding a Camera to a Camera Stack" class="inline"/></p>
<ol type="1">
<li>Create a Camera in your Scene. Its <b>Render Type</b> defaults to <b>Base</b>, making it a Base Camera.</li>
<li>Create another Camera in your Scene, and select it.</li>
<li>In the Camera Inspector, change the Cameraâ€™s <b>Render Type</b> to <b>Overlay</b>.</li>
<li>Select the Base Camera again. In the Camera Inspector, scroll to the Stack section, click the <b>plus (+)</b> button, and click the name of the Overlay Camera.</li>
</ol>
<p>The Overlay Camera is now part of the Base Camera's Camera Stack. <a class="el" href="namespace_unity.html">Unity</a> renders the Overlay Camera's output on top of the Base Camera's output.</p>
<p>You can add a Camera to a Camera Stack in a script by directly manipulating the <code>cameraStack</code> property of the Base Camera's <a href="xref:UnityEngine.Rendering.Universal.UniversalAdditionalCameraData">Universal Additional Camera Data</a> component, like this:</p>
<div class="fragment"><div class="line">var cameraData = camera.GetUniversalAdditionalCameraData();</div>
<div class="line">cameraData.cameraStack.Add(myOverlayCamera);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2082"></a>
Removing a Camera from a Camera Stack</h1>
<p><img src="Images/camera-stack-remove-camera.png" alt="Removing a Camera from a Camera Stack" class="inline"/></p>
<ol type="1">
<li>Create a Camera Stack that contains at least one Overlay Camera. For instructions, see <a class="el" href="#adding-a-camera-to-a-camera-stack">Adding a Camera to a Camera Stack</a>.</li>
<li>Select the Camera Stack's Base Camera.</li>
<li>In the Camera Inspector, scroll to the Stack section, click the name of the Overlay Camera you want to remove, and then click the <b>minus (-)</b> button.</li>
</ol>
<p>The Overlay Camera remains in the Scene, but is no longer part of the Camera Stack.</p>
<p>You can remove a Camera from a Camera Stack in a script by directly manipulating the <code>cameraStack</code> property of the Base Camera's <a href="xref:UnityEngine.Rendering.Universal.UniversalAdditionalCameraData">Universal Additional Camera Data</a> component, like this:</p>
<div class="fragment"><div class="line">var cameraData = camera.GetUniversalAdditionalCameraData();</div>
<div class="line">cameraData.cameraStack.Remove(myOverlayCamera);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2083"></a>
Changing the order of Cameras in a Camera Stack</h1>
<p><img src="Images/camera-stack-reorder.png" alt="Removing a Camera from a Camera Stack" class="inline"/></p>
<ol type="1">
<li>Create a Camera Stack that contains more than one Overlay Camera. For instructions, see <a class="el" href="#adding-a-camera-to-a-camera-stack">Adding a Camera to a Camera Stack</a>.</li>
<li>Select the Base Camera in the Camera Stack.</li>
<li>In the Camera Inspector, scroll to the Stack section.</li>
<li>Use the handles next to the names of the Overlay Cameras to reorder the list of Overlay Cameras.</li>
</ol>
<p>The Base Camera renders the base layer of the Camera Stack, and the Overlay Cameras in the stack render on top of this in the order that they are listed, from top to bottom.</p>
<p>You can reorder a Camera Stack in a script by directly manipulating the <code>cameraStack</code> property of the Base Camera's <a href="xref:UnityEngine.Rendering.Universal.UniversalAdditionalCameraData">Universal Additional Camera Data</a> component.</p>
<h1><a class="anchor" id="autotoc_md2084"></a>
Adding the same Overlay Camera to multiple stacks</h1>
<p>To add an Overlay Camera to multiple Camera Stacks:</p>
<ol type="1">
<li>Create a Camera Stack that contains at least one Overlay Camera. For instructions, see <a class="el" href="#adding-a-camera-to-a-camera-stack">Adding a Camera to a Camera Stack</a>.</li>
<li>Create a Camera in your Scene. Its <b>Render Type</b> defaults to <b>Base</b>, making it a Base Camera.</li>
<li>Select the new Base Camera.</li>
<li>In the Camera Inspector, scroll to the Stack section, click the <em>plus (+)</em> button, and click the name of the Overlay Camera that you want to use in both Camera Stacks.</li>
</ol>
<p>The Overlay Camera is now rendering in both Camera Stacks.</p>
<p>You can also add a Camera to a Camera Stack in a script by directly manipulating the <code>cameraStack</code> property of the Base Camera's <a href="xref:UnityEngine.Rendering.Universal.UniversalAdditionalCameraData">Universal Additional Camera Data</a> component, like this:</p>
<div class="fragment"><div class="line">var cameraData = camera.GetUniversalAdditionalCameraData();</div>
<div class="line">cameraData.cameraStack.Add(myOverlayCamera);</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
