<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Workflow Overview - Using an Actions Asset</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Workflow Overview - Using an Actions Asset</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1605"></a> <img src="./Images/Workflow-ActionsAsset.svg" alt="image alt text" style="pointer-events: none;" class="inline"/></p>
<p>The Actions Asset provides a way to define, group, and manage sets of actions as data stored in an asset, instead of defining them directly in your code.</p>
<p>Using an Actions Asset allows you to keep the data that defines your actions separate from the GameObjects which should respond to the actions. This provides a further level of abstraction and organization, compared with <a href="Workflow-Embedded.html">embedding action definitions directly in your code</a>.</p>
<p>The Actions Asset is useful because it means all your action definitions are stored as a single asset file, separate from your scripts and prefabs. This can make it simpler to manage conceptually, and can help in practical situations where different people in your team might work on different parts of the project at the same time.</p>
<p>Action Assets also provide other benefits over embedded actions in scripts, such as the ability to group actions into <a href="ActionAssets.html#editing-action-maps">Action Maps</a> and <a href="ActionAssets.html#editing-control-schemes">Control Schemes</a>.</p>
<p><a href="ActionAssets.html#editing-action-maps">Action Maps</a> are a way to group related actions together, where each map relates to a different situation. For example, your game might involve driving vehicles and navigating on foot, and may have in-game menus. In this example, it would make sense to have three different action maps for each of these three situations, and your game code would switch between them as appropriate. The actions grouped into the "driving" action map might be called "steer", "accelerate", "brake", "handbrake", etc, whereas the actions grouped into the "on foot" action map might be "move", "jump", "crouch", "use", etc.</p>
<p>The <a href="ActionAssets.html#editing-control-schemes">Control Schemes</a>, also defined in an Action Asset, allows you to specify which bindings belong to the control schemes you define. You might have one control scheme which is "Joypad", and another control scheme which is "Keyboard and Mouse". This allows you to determine which control scheme the user is currently using, so your game can respond to the user accordingly. This feature is often used to adapt the in-game UI to show the correct keys or buttons in on-screen prompts.</p>
<p><img src="./Images/MyGameActions.png" alt="image alt text" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md1606"></a>
Accessing your Actions Asset from code</h1>
<p>When you use an Actions Asset, there are two distinct ways to access it from your code. You can either:</p>
<ul>
<li>Use an <b>inspector reference</b> to the Actions Asset, or</li>
<li>Generate a <b>C# class</b> that wraps your Actions Asset.</li>
</ul>
<p>Your choice affects how you access your actions from code. With an <b>inspector reference</b> to your Actions Asset, you must read the actions by name using strings. If you use the <b>Generate C# class</b> feature, <a class="el" href="namespace_unity.html">Unity</a> generates an accompanying class as a new **.cs** script asset, which acts as a wrapper for your actions. You can then create an instance of the generated wrapper class in your code and directly use its API members which are named after the names of the actions that you configured.</p>
<p>Both workflow options are described below using the same example, so you can see the difference.</p>
<h2><a class="anchor" id="autotoc_md1607"></a>
Referencing the Actions Asset in the inspector</h2>
<p>To use your Actions Asset through an <b>inspector reference</b>:</p>
<ol type="1">
<li>Create a <code>public InputActionsAsset</code> field in your script.</li>
<li><a href="https://docs.unity3d.com/Manual/EditingValueProperties.html#ref-assign-dnd">Assign the reference</a> in the inspector.</li>
<li>Access the Actions in your script by name, using strings.</li>
</ol>
<p>This string-based access is demonstrated in the example below.</p>
<div class="fragment"><div class="line">using UnityEngine;</div>
<div class="line">using UnityEngine.InputSystem;</div>
<div class="line"> </div>
<div class="line">public class ExampleScript : MonoBehaviour</div>
<div class="line">{</div>
<div class="line">    // assign the actions asset to this field in the inspector:</div>
<div class="line">    public InputActionAsset actions;</div>
<div class="line"> </div>
<div class="line">    // private field to store move action reference</div>
<div class="line">    private InputAction moveAction;</div>
<div class="line"> </div>
<div class="line">    void Awake()</div>
<div class="line">    {</div>
<div class="line">        // find the &quot;move&quot; action, and keep the reference to it, for use in Update</div>
<div class="line">        moveAction = actions.FindActionMap(&quot;gameplay&quot;).FindAction(&quot;move&quot;);</div>
<div class="line"> </div>
<div class="line">        // for the &quot;jump&quot; action, we add a callback method for when it is performed</div>
<div class="line">        actions.FindActionMap(&quot;gameplay&quot;).FindAction(&quot;jump&quot;).performed += OnJump;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    void Update()</div>
<div class="line">    {</div>
<div class="line">        // our update loop polls the &quot;move&quot; action value each frame</div>
<div class="line">        Vector2 moveVector = moveAction.ReadValue&lt;Vector2&gt;();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    private void OnJump(InputAction.CallbackContext context)</div>
<div class="line">    {</div>
<div class="line">        // this is the &quot;jump&quot; action callback method</div>
<div class="line">        Debug.Log(&quot;Jump!&quot;);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    void OnEnable()</div>
<div class="line">    {</div>
<div class="line">        actions.FindActionMap(&quot;gameplay&quot;).Enable();</div>
<div class="line">    }</div>
<div class="line">    void OnDisable()</div>
<div class="line">    {</div>
<div class="line">        actions.FindActionMap(&quot;gameplay&quot;).Disable();</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Note:</b> In the example above the reference to the "move" action is stored in a variable after it is found, to avoid accessing it by string every frame, which would be bad for performance.</p>
<h2><a class="anchor" id="autotoc_md1608"></a>
Referencing the Actions Asset through a C# wrapper</h2>
<p>To use your Actions Asset through a <b>C# wrapper</b>:</p>
<ol type="1">
<li>Select your Actions Asset in the project window</li>
<li>In the Inspector, enable <b>Generate C# Class</b> and select <b>Apply</b>. You should see a C# asset with the same name as your Actions Asset in your project window.</li>
<li>Create an instance of your Actions C# class in your script.</li>
</ol>
<ol type="1">
<li>Access the Actions in your script by using the API of your Actions C# class.</li>
</ol>
<p>For example:</p>
<div class="fragment"><div class="line">using UnityEngine;</div>
<div class="line">using UnityEngine.InputSystem;</div>
<div class="line"> </div>
<div class="line">public class DocsExampleActionsAssetCsWrapper : MonoBehaviour</div>
<div class="line">{</div>
<div class="line">    // this field will contain the actions wrapper instance</div>
<div class="line">    ExampleActions actions;</div>
<div class="line"> </div>
<div class="line">    void Awake()</div>
<div class="line">    {</div>
<div class="line">        // instantiate the actions wrapper class</div>
<div class="line">        actions = new ExampleActions();</div>
<div class="line"> </div>
<div class="line">        // for the &quot;jump&quot; action, we add a callback method for when it is performed</div>
<div class="line">        actions.gameplay.jump.performed += OnJump;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    void Update()</div>
<div class="line">    {</div>
<div class="line">        // our update loop polls the &quot;move&quot; action value each frame</div>
<div class="line">        Vector2 moveVector = actions.gameplay.move.ReadValue&lt;Vector2&gt;();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    private void OnJump(InputAction.CallbackContext context)</div>
<div class="line">    {</div>
<div class="line">        // this is the &quot;jump&quot; action callback method</div>
<div class="line">        Debug.Log(&quot;Jump!&quot;);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    void OnEnable()</div>
<div class="line">    {</div>
<div class="line">        actions.gameplay.Enable();</div>
<div class="line">    }</div>
<div class="line">    void OnDisable()</div>
<div class="line">    {</div>
<div class="line">        actions.gameplay.Disable();</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Whether you use the C# wrapper option, or the inspector reference option, using an Action Asset like this gives you the ability to organize and edit your actions in the Actions Window. It is more flexible than using <a href="Workflow-Embedded.html">embedded actions</a>, and <a href="Workflow-Direct.html">directly reading device states</a>, and is generally a good solution for many projects. However, you can also add one more step of abstraction using the <a href="Workflow-PlayerInput.html">Player Input component</a>, to set up calls to methods based on your Action definitions.</p>
<p>&gt;[!Note] &gt;Because Action Assets can be used in these two different ways (by reference, or by C# wrapper), the code samples used throughout this documentation also vary in which way they are written. Some code samples might use a reference and strings to identify actions, and others might use the C# wrapper method.</p>
<p>See also:</p>
<ul>
<li><a href="ActionAssets.html">Using Action Assets</a></li>
<li><a href="ActionAssets.html#auto-generating-script-code-for-actions">Generating a C# Class that wraps your actions</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
